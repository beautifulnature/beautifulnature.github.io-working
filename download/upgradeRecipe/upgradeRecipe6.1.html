
<!DOCTYPE html>
<html lang="en">
<head>
    <script id="dpal" src="https://www.redhat.com/dtm.js" type="text/javascript"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-39485370-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-39485370-1');
    </script>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <title>OptaPlanner - Upgrade recipe 6.1</title>
    <meta content="Upgrade to OptaPlanner 6.1 from a previous version." name="description">
    <meta content="metaheuristic, heuristic, constraint satisfaction, constraint programming, operations research, NP-complete, NP-hard, optimization, planning, scheduling, java, open source, software, library, solver, tabu search, simulated annealing, pareto" name="keywords">
    <link href="https://www.optaplanner.org/download/upgradeRecipe/upgradeRecipe6.1.html" rel="canonical">

    <meta content="Upgrade recipe 6.1" property="og:title">
    <meta content="Upgrade to OptaPlanner 6.1 from a previous version." property="og:description">
    <meta content="https://www.optaplanner.org/download/upgradeRecipe/upgradeRecipe6.1.html" property="og:url">
    <meta content="OptaPlanner" property="og:site_name">
    <meta content="website" property="og:type">
    <meta content="https://www.optaplanner.org/headerFooter/optaPlannerIcon.png" property="og:image">
    <meta content="summary" name="twitter:card">
    <meta content="@OptaPlanner" name="twitter:site">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css"
          integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css"
          integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.2.0/build/styles/default.min.css"
          integrity="sha256-CGf39SzxAmEe09Ojoh16/2xTRNleX9wBZcEXVnNqwSM=" crossorigin="anonymous">
    <link rel="stylesheet" href="../../website/optaplannerWebsite.css">
    <link href="../../favicon.ico" rel="shortcut icon">
</head>

<body>
<nav class="navbar sticky-top navbar-expand-lg navbar-light bg-light border-bottom shadow">
    <div class="container">
        <a class="navbar-brand" href="../../">
            <img alt="OptaPlanner logo" src="../../headerFooter/optaPlannerLogo200px.png">
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent" aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item"><a class="nav-link" href="../../download/download.html">Download</a></li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarLearn" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        Learn
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarLearn">
                        <li><a class="dropdown-item" href="../../learn/documentation.html">Documentation</a></li>
                        <li><a class="dropdown-item" href="../../learn/video.html">Videos</a></li>
                        <li><a class="dropdown-item" href="../../learn/slides.html">Slides</a></li>
                        <li><a class="dropdown-item" href="../../learn/training.html">Training</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="../../learn/useCases/index.html">Use cases</a></li>
                        <li><a class="dropdown-item" href="../../compatibility/index.html">Compatibility</a></li>
                        <li><a class="dropdown-item" href="../../learn/testimonialsAndCaseStudies.html">Testimonials and case studies</a></li>
                    </ul>
                </li>
                <li class="nav-item"><a class="nav-link" href="../../community/getHelp.html">Get help</a></li>
                <li class="nav-item"><a class="nav-link" href="../../blog/">Blog</a></li>
                <li class="nav-item"><a class="nav-link" href="../../code/sourceCode.html">Source</a></li>
                <li class="nav-item"><a class="nav-link" href="../../community/team.html">Team</a></li>
                <li class="nav-item"><a class="nav-link" href="../../product/services.html">Services</a></li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarKIE" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        KIE
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarKIE">
                        <li><a class="dropdown-item" href="https://www.drools.org/" target="_blank">Drools</a></li>
                        <li><a class="dropdown-item" href="https://www.optaplanner.org/" target="_blank">OptaPlanner</a></li>
                        <li><a class="dropdown-item" href="https://www.jbpm.org/" target="_blank">jBPM</a></li>
                        <li><a class="dropdown-item" href="https://kogito.kie.org/" target="_blank">Kogito</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="navbar-nav">
                <li class="p-2"><a aria-label="Star OptaPlanner on GitHub" class="github-button" data-show-count="true" href="https://github.com/kiegroup/optaplanner">Star</a></li>
                <li class="p-1"><a href="https://twitter.com/OptaPlanner" target="_blank" title="Follow OptaPlanner on Twitter"><img alt="T" src="../../headerFooter/twitterLogo.png"></a></li>
                <li class="p-1"><a href="https://www.linkedin.com/showcase/optaplanner" target="_blank" title="Follow OptaPlanner on LinkedIn"><img alt="L" src="../../headerFooter/linkedInLogo.png"></a></li>
                <li class="p-1"><a href="https://www.facebook.com/OptaPlanner" target="_blank" title="Follow OptaPlanner on Facebook"><img alt="F" src="../../headerFooter/facebookLogo.png"></a></li>
                <li class="p-1"><a href="https://www.youtube.com/channel/UCcpkOKpujFlM67D2h0RdaeQ" target="_blank" title="OptaPlanner YouTube channel"><img alt="YT" src="../../headerFooter/youtubeLogo.png" style="height: 16px"></a></li>
            </ul>
        </div>
    </div>
</nav>

    <div class="body-without-header-footer">
        <div class="forkMeOnGithub">
            <a href="https://github.com/kiegroup/optaplanner">
                <img alt="Fork me on GitHub" src="../../headerFooter/forkMeOnGithub.png">
            </a>
        </div>
        <div class="container py-4">
    <div class="row">
        <div class="col-md-9">
    <h1>Upgrade recipe 6.1</h1>
    <div class="paragraph summaryParagraph">
        <p><strong>OptaPlannerâ€™s public API classes are backwards compatible</strong> (per series),
            but users often also use impl classes (which are documented in the reference manual too).
            This upgrade recipe <em>minimizes the pain</em> to upgrade your code
            and to take advantage of <a href="../../download/releaseNotes/releaseNotes8.html">the newest features in OptaPlanner 8</a>.</p>
    </div>
    <div class="row">
        <div class="col-md-7">
            <h2 class="mt-0">Legend</h2>
            <p>Every upgrade note has an indication how likely your code will be affected by that change:</p>
            <ul class="upgrade-recipe-label-list">
                <li>
                    <span class="badge bg-danger label-as-badge">Major</span>
                    Likely to affect your code.
                </li>
                <li>
                    <span class="badge bg-warning label-as-badge">Minor</span>
                    Unlikely to affect your code (especially if you followed the examples), unless you have hacks.
                </li>
                <li>
                    <span class="badge bg-info label-as-badge">Impl detail</span>
                    Will not affect your code, unless you have very deep hacks.
                </li>
                <li>
                    <span class="badge bg-primary label-as-badge">Recommended</span>
                    Not a backward incompatible change, but you probably want to do this.
                </li>
                <li>
                    <span class="badge bg-success label-as-badge">Readme</span>
                    Read this to better understand why the subsequent major changes were made.
                </li>
            </ul>
            <div class="sect1">
                <h2>Upgrade from an older version</h2>
                <p>To upgrade from an older version, first apply <a href="./">the previous upgrade recipes</a>.</p>
            </div>
        </div>
        <div class="col-md-5 mb-4">
<div class="card mb-4">
    <div class="card-header">Note for Red Hat Decision Manager customers</div>
    <div class="card-body">
        <p>The RHDM version differs from the OptaPlanner version:</p>
        <table class="tableblock frame-all grid-all spread">
            <colgroup>
                <col style="width: 50%;">
                <col style="width: 50%;">
            </colgroup>
            <thead>
            <tr>
                <th>RHDM version</th>
                <th>OptaPlanner version</th>
            </tr>
            </thead>
            <tbody>
                <tr>
                    <td>7.8</td>
                    <td>7.39</td>
                </tr>
                <tr>
                    <td>7.9</td>
                    <td>7.44</td>
                </tr>
                <tr>
                    <td>7.1</td>
                    <td>7.48</td>
                </tr>
                <tr>
                    <td>7.11</td>
                    <td>8.5 (and 7.52)</td>
                </tr>
                <tr>
                    <td>7.12</td>
                    <td>8.11 (and 7.59)</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
        </div>
    </div>
<div class="sect1">
<h2 id="_from_6_0_0_final_to_6_1_0_beta1">From 6.0.0.Final to 6.1.0.Beta1</h2>
<div class="sectionbody">
<div class="sect2 upgrade-recipe-readme">
<h3 id="_backwards_compatible_public_api">Backwards Compatible Public API</h3>
<div class="paragraph">
<p>As promised, starting from OptaPlanner 6.1.0.Final, there will be a public API,
which will be backwards compatible in later versions (such as 6.2, 6.3, etc.).
The public API are all classes in the package <code>org.optaplanner.core.api</code> (or subpackages thereof).
For more information, see the documentation, chapter "Status of OptaPlanner".
Bear with us: this should be the last time we require you to do a large number of migrations during upgrading.</p>
</div>
</div>
<div class="sect2 upgrade-recipe-impl-detail">
<h3 id="_simulated_annealing_behaviour_change">Simulated Annealing behaviour change</h3>
<div class="paragraph">
<p>Simulated Annealing now uses the time gradient of the current step instead of the time gradient of the last step.
The impact of this change is negligible.</p>
</div>
</div>
<div class="sect2 upgrade-recipe-impl-detail">
<h3 id="_abstractscore_methods_changes"><code>AbstractScore</code>: methods changes</h3>
<div class="paragraph">
<p>On <code>AbstractScore</code>, the methods <code>parseLevelStrings(&#8230;&#8203;)</code> and <code>buildScorePattern(&#8230;&#8203;)</code> have been changed from public to protected.
It&#8217;s highly unlikely that this affects your code.</p>
</div>
</div>
<div class="sect2 upgrade-recipe-recommended">
<h3 id="_valuerangeprovider_that_returns_numbers_use_valuerange"><code>@ValueRangeProvider</code> that returns numbers: use <code>ValueRange</code></h3>
<div class="paragraph">
<p>If you have <code>@ValueRangeProvider</code> that returns a collection of numbers (for example <code>List&lt;Integer&gt;</code> or <code>List&lt;BigDecimal&gt;</code>),
then you probably want to switch to a <code>ValueRange</code>, which uses less memory and offers additional opportunities.</p>
</div>
<div class="paragraph">
<p>Before in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@ValueRangeProvider(id = "delayRange")
public List&lt;Integer&gt; getDelayRange() {
    List&lt;Integer&gt; = new ArrayList&lt;Integer&gt;(5000);
    for (int i = 0; i &lt; 5000; i++) {
        delayRange.add(i);
    }
    return delayRange;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@ValueRangeProvider(id = "delayRange")
public CountableValueRange&lt;Integer&gt; getDelayRange() {
    return ValueRangeFactory.createIntValueRange(0, 5000);
}</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-major">
<h3 id="_valuerangeprovider_moved"><code>@ValueRangeProvider</code>: moved</h3>
<div class="paragraph">
<p>The annotation <code>@ValueRangeProvider</code> has been moved into another package</p>
</div>
<div class="paragraph">
<p>Before in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import org.optaplanner.core.api.domain.value.ValueRangeProvider;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import org.optaplanner.core.api.domain.valuerange.ValueRangeProvider;</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-impl-detail">
<h3 id="_descriptor_classes_moved"><code>Descriptor</code> classes: moved</h3>
<div class="paragraph">
<p>The <code>*Descriptor</code> classes have been moved into a descriptor package.</p>
</div>
</div>
<div class="sect2 upgrade-recipe-minor">
<h3 id="_selector_iscontinuous_renamed"><code>Selector</code>: <code>isContinuous()</code> renamed</h3>
<div class="paragraph">
<p><code>Selector.isContinuous()</code> has been renamed to <code>isCountable</code> and its boolean return value has been inverted.
It&#8217;s highly unlikely that your code uses <code>isContinuous()</code> because uncountable value ranges weren&#8217;t supported yet.</p>
</div>
</div>
<div class="sect2 upgrade-recipe-impl-detail">
<h3 id="_solutiondescriptor_isinitialized_changed"><code>SolutionDescriptor</code>: <code>isInitialized(&#8230;&#8203;)</code> changed</h3>
<div class="paragraph">
<p><code>SolutionDescriptor.isInitialized(Solution)</code> now requires a <code>ScoreDirector</code> parameter too</p>
</div>
</div>
<div class="sect2 upgrade-recipe-minor">
<h3 id="_improving_step_percentage_removed"><code>IMPROVING_STEP_PERCENTAGE</code> removed</h3>
<div class="paragraph">
<p>The deprecated <code>statisticType</code> <code>IMPROVING_STEP_PERCENTAGE</code> has been removed.</p>
</div>
<div class="paragraph">
<p>Before in <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;problemBenchmarks&gt;
  ...
  &lt;problemStatisticType&gt;IMPROVING_STEP_PERCENTAGE&lt;/problemStatisticType&gt;
&lt;/problemBenchmarks&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-minor">
<h3 id="_custom_benchmarker_ranking_benchmark_classes_renamed">Custom Benchmarker ranking: <code>Benchmark</code> classes renamed</h3>
<div class="paragraph">
<p>If you have custom Benchmarker ranking:
<code>SolverBenchmark</code> has been renamed to <code>SolverBenchmarkResult</code>.
<code>ProblemBenchmark</code> has been renamed to <code>ProblemBenchmarkResult</code>.
<code>SingleBenchmark</code> has been renamed to <code>SingleBenchmarkResult</code>.
They also moved into the package <code>result</code>.</p>
</div>
<div class="paragraph">
<p>Before in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public int compare(SolverBenchmark a, SolverBenchmark b) {...}</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public int compare(SolverBenchmarkResult a, SolverBenchmarkResult b) {...}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Before in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public Comparable createRankingWeight(List&lt;SolverBenchmark&gt; solverBenchmarkList, SolverBenchmark solverBenchmark) {...}</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public Comparable createRankingWeight(List&lt;SolverBenchmarkResult&gt; solverBenchmarkResultList, SolverBenchmarkResult solverBenchmarkResult) {...}</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-minor">
<h3 id="_non_default_benchmarker_rank_config_change">Non-default Benchmarker rank: config change</h3>
<div class="paragraph">
<p>If you explicitly specify Benchmarker rankings:
All <code>solverBenchmarkRanking*</code> properties have been renamed to <code>solverRanking*</code>.</p>
</div>
<div class="paragraph">
<p>Before in <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">   &lt;solverBenchmarkRankingType&gt;TOTAL_SCORE&lt;/solverBenchmarkRankingType&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">   &lt;solverRankingType&gt;TOTAL_SCORE&lt;/solverRankingType&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Before in <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">   &lt;solverBenchmarkRankingComparatorClass&gt;...&lt;/solverBenchmarkRankingComparatorClass&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">   &lt;solverRankingComparatorClass&gt;...&lt;/solverRankingComparatorClass&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Before in <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">   &lt;solverBenchmarkRankingWeightFactoryClass&gt;...&lt;/solverBenchmarkRankingWeightFactoryClass&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">   &lt;solverRankingWeightFactoryClass&gt;...&lt;/solverRankingWeightFactoryClass&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Before in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">   ... implements SolverRankingWeightFactory</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">   ... implements SolverBenchmarkRankingWeightFactory</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-impl-detail">
<h3 id="_optaplanner_benchmark_refactoring"><code>optaplanner-benchmark</code> refactoring</h3>
<div class="paragraph">
<p>The internals of <code>optaplanner-benchmark</code> have been deeply refactored to support the new aggregator functionality.</p>
</div>
</div>
<div class="sect2 upgrade-recipe-minor">
<h3 id="_benchmarker_output_report_directory_structure_changed">Benchmarker: output report directory structure changed</h3>
<div class="paragraph">
<p>The benchmark output report directory structure is slightly different: the CSV files have been renamed.</p>
</div>
</div>
<div class="sect2 upgrade-recipe-minor">
<h3 id="_non_default_benchmarker_ranking_or_report_locale_config_change">Non-default Benchmarker ranking or report locale: config change</h3>
<div class="paragraph">
<p>If you explicitly specify Benchmarker rankings or report locale:
The elements <code>&lt;benchmarkReportLocale&gt;</code>, <code>&lt;solverRankingType&gt;</code>, <code>&lt;solverRankingComparatorClass&gt;</code>
and <code>&lt;solverRankingWeightFactoryClass&gt;</code> have been moved inside the new element <code>&lt;benchmarkReport&gt;</code>.</p>
</div>
<div class="paragraph">
<p>Before in <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;benchmarkReportLocale&gt;...&lt;/benchmarkReportLocale&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;benchmarkReport&gt;
  &lt;locale&gt;...&lt;/locale&gt;
&lt;/benchmarkReport&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Before in <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;solverRankingType&gt;...&lt;/solverRankingType&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;benchmarkReport&gt;
  &lt;solverRankingType&gt;...&lt;/solverRankingType&gt;
&lt;/benchmarkReport&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-minor">
<h3 id="_entityselector_cachetypephasecachetype_obsolete"><code>&lt;entitySelector&gt;</code>: <code>&lt;cacheType&gt;PHASE&lt;/cacheType&gt;</code> obsolete</h3>
<div class="paragraph">
<p>If you explicitly configured all your <code>&lt;entitySelector&gt;</code> elements with <code>&lt;cacheType&gt;PHASE&lt;/cacheType&gt;</code> for performance,
you now no longer have to do that, as OptaPlanner does the fast thing out of the box,
if and only if no other properties (such as filtering) were specified on that <code>&lt;entitySelector&gt;</code>.</p>
</div>
<div class="paragraph">
<p>Before in <code>*SolverConfig.xml</code> and <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;unionMoveSelector&gt;
  &lt;changeMoveSelector&gt;
    &lt;entitySelector&gt;
      &lt;cacheType&gt;PHASE&lt;/cacheType&gt;
    &lt;/entitySelector&gt;
  &lt;/changeMoveSelector&gt;
  &lt;swapMoveSelector&gt;
    &lt;entitySelector&gt;
      &lt;cacheType&gt;PHASE&lt;/cacheType&gt;
    &lt;/entitySelector&gt;
  &lt;/swapMoveSelector&gt;
&lt;/unionMoveSelector&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*SolverConfig.xml and *BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;unionMoveSelector&gt;
  &lt;changeMoveSelector/&gt;
  &lt;swapMoveSelector/&gt;
&lt;/unionMoveSelector&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-readme">
<h3 id="_time_spend_typo_fixed"><em>time spend</em> typo fixed</h3>
<div class="paragraph">
<p>The phrase <em>time spend</em> has been renamed to <em>time spent</em>.
This includes the log output and the benchmark report.</p>
</div>
</div>
<div class="sect2 upgrade-recipe-major">
<h3 id="_termination_config_changed"><code>&lt;termination&gt;</code>: config changed</h3>
<div class="paragraph">
<p>All child elements of <code>&lt;termination&gt;</code> have been renamed:
The element <code>&lt;maximumTimeMillisSpend&gt;</code> has been renamed to <code>&lt;millisecondsSpentLimit&gt;</code>
The element <code>&lt;maximumSecondsSpend&gt;</code> has been renamed to <code>&lt;secondsSpentLimit&gt;</code>
The element <code>&lt;maximumMinutesSpend&gt;</code> has been renamed to <code>&lt;minutesSpentLimit&gt;</code>
The element <code>&lt;maximumHoursSpend&gt;</code> has been renamed to <code>&lt;hoursSpentLimit&gt;</code>
The element <code>&lt;scoreAttained&gt;</code> has been renamed to <code>&lt;bestScoreLimit&gt;</code>
The element <code>&lt;maximumStepCount&gt;</code> has been renamed to <code>&lt;stepCountLimit&gt;</code>
The element <code>&lt;maximumUnimprovedStepCount&gt;</code> has been renamed to <code>&lt;unimprovedStepCountLimit&gt;</code></p>
</div>
<div class="paragraph">
<p>Before in <code>*SolverConfig.xml</code> and <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;termination&gt;
  &lt;maximumTimeMillisSpend&gt;...&lt;/maximumTimeMillisSpend&gt;
  &lt;maximumSecondsSpend&gt;...&lt;/maximumSecondsSpend&gt;
  &lt;maximumMinutesSpend&gt;...&lt;/maximumMinutesSpend&gt;
  &lt;maximumHoursSpend&gt;...&lt;/maximumHoursSpend&gt;
  &lt;scoreAttained&gt;...&lt;/scoreAttained&gt;
  &lt;maximumStepCount&gt;...&lt;/maximumStepCount&gt;
  &lt;maximumUnimprovedStepCount&gt;...&lt;/maximumUnimprovedStepCount&gt;
&lt;/termination&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*SolverConfig.xml</code> and <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;termination&gt;
  &lt;millisecondsSpentLimit&gt;...&lt;/millisecondsSpentLimit&gt;
  &lt;secondsSpentLimit&gt;...&lt;/secondsSpentLimit&gt;
  &lt;minutesSpentLimit&gt;...&lt;/minutesSpentLimit&gt;
  &lt;hoursSpentLimit&gt;...&lt;/hoursSpentLimit&gt;
  &lt;bestScoreLimit&gt;...&lt;/bestScoreLimit&gt;
  &lt;stepCountLimit&gt;...&lt;/stepCountLimit&gt;
  &lt;unimprovedStepCountLimit&gt;...&lt;/unimprovedStepCountLimit&gt;
&lt;/termination&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-major">
<h3 id="_solver_and_bestsolutionchangedevent_gettimemillisspend_renamed"><code>Solver</code> and <code>BestSolutionChangedEvent</code>: <code>getTimeMillisSpend()</code> renamed</h3>
<div class="paragraph">
<p>In <code>Solver</code> and <code>BestSolutionChangedEvent</code>, the method <code>getTimeMillisSpend()</code> has been renamed to <code>getTimeMillisSpent()</code>.</p>
</div>
<div class="paragraph">
<p>Before in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">... = solver.getTimeMillisSpend();</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">... = solver.getTimeMillisSpent();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Before in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    public void bestSolutionChanged(BestSolutionChangedEvent event) {
        ... = event.getTimeMillisSpend();
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    public void bestSolutionChanged(BestSolutionChangedEvent event) {
        ... = event.getTimeMillisSpent();
    }</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-major">
<h3 id="_benchmarker_warmup_config_renamed">Benchmarker: <code>&lt;warmUp*&gt;</code> config renamed</h3>
<div class="paragraph">
<p>Benchmarker: the <code>&lt;warmUp*&gt;</code> elements have been renamed:
The element <code>&lt;warmUpTimeMillisSpend&gt;</code> has been renamed to <code>&lt;warmUpMillisecondsSpentLimit&gt;</code>
The element <code>&lt;warmUpSecondsSpend&gt;</code> has been renamed to <code>&lt;warmUpSecondsSpentLimit&gt;</code>
The element <code>&lt;warmUpMinutesSpend&gt;</code> has been renamed to <code>&lt;warmUpMinutesSpentLimit&gt;</code>
The element <code>&lt;warmUpHoursSpend&gt;</code> has been renamed to <code>&lt;warmUpHoursSpentLimit&gt;</code></p>
</div>
<div class="paragraph">
<p>Before in <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;plannerBenchmark&gt;
  &lt;warmUpTimeMillisSpend&gt;...&lt;/warmUpTimeMillisSpend&gt;
  &lt;warmUpSecondsSpend&gt;...&lt;/warmUpSecondsSpend&gt;
  &lt;warmUpMinutesSpend&gt;...&lt;/warmUpMinutesSpend&gt;
  &lt;warmUpHoursSpend&gt;...&lt;/warmUpHoursSpend&gt;
  ...
&lt;/plannerBenchmark&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;plannerBenchmark&gt;
  &lt;warmUpMillisecondsSpentLimit&gt;...&lt;/warmUpMillisecondsSpentLimit&gt;
  &lt;warmUpSecondsSpentLimit&gt;...&lt;/warmUpSecondsSpentLimit&gt;
  &lt;warmUpMinutesSpentLimit&gt;...&lt;/warmUpMinutesSpentLimit&gt;
  &lt;warmUpHoursSpentLimit&gt;...&lt;/warmUpHoursSpentLimit&gt;
  ...
&lt;/plannerBenchmark&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-minor">
<h3 id="_real_time_planning_addproblemfactchange_behaviour_changed">Real-time planning: <code>addProblemFactChange(&#8230;&#8203;)</code> behaviour changed</h3>
<div class="paragraph">
<p>Real-time planning: <code>addProblemFactChange(&#8230;&#8203;)</code> no longer causes solver <code>Termination</code>s to reset
(but it still causes phase terminations to reset).</p>
</div>
</div>
<div class="sect2 upgrade-recipe-major">
<h3 id="_bestsolutionchangedevent_and_solvereventlistener_moved"><code>BestSolutionChangedEvent</code> and <code>SolverEventListener</code>: moved</h3>
<div class="paragraph">
<p>Classes <code>BestSolutionChangedEvent</code> and <code>SolverEventListener</code> moved from package <code>impl.event</code> to <code>api.solver.event</code>.
They are now part of the public api.</p>
</div>
<div class="paragraph">
<p>Before in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import org.optaplanner.core.impl.event.BestSolutionChangedEvent;
import org.optaplanner.core.impl.event.SolverEventListener;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import org.optaplanner.core.api.solver.event.BestSolutionChangedEvent;
import org.optaplanner.core.api.solver.event.SolverEventListener;</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-minor">
<h3 id="_package_config_termination_moved">Package <code>config.termination</code>: moved</h3>
<div class="paragraph">
<p>The package <code>config.termination</code> has been moved to <code>config.solver.termination</code>.
Similarly, the package <code>impl.termination</code> has been moved to <code>impl.solver.termination</code>.</p>
</div>
<div class="paragraph">
<p>Before in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import org.optaplanner.core.config.termination....;
import org.optaplanner.core.impl.termination....;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import org.optaplanner.core.config.solver.termination....;
import org.optaplanner.core.impl.solver.termination....;</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-impl-detail">
<h3 id="_randomutils_moved"><code>RandomUtils</code>: moved</h3>
<div class="paragraph">
<p><code>RandomUtils</code> moved from package <code>impl.util</code> to <code>impl.solver.random</code>.</p>
</div>
</div>
<div class="sect2 upgrade-recipe-impl-detail">
<h3 id="_abstractsolverphasescope_and_abstractstepscope_moved"><code>AbstractSolverPhaseScope</code> and <code>AbstractStepScope</code>: moved</h3>
<div class="paragraph">
<p><code>AbstractSolverPhaseScope</code> and <code>AbstractStepScope</code> moved to package <code>impl.phase.scope</code>.</p>
</div>
</div>
<div class="sect2 upgrade-recipe-major">
<h3 id="_package_impl_move_moved">Package <code>impl.move</code>: moved</h3>
<div class="paragraph">
<p>All classes in the package <code>impl.move</code> have been moved to <code>impl.heuristic.move</code>.
None of them are future-proof enough at this time to be added the public API.
Prefer generic moves whenever possible.</p>
</div>
<div class="paragraph">
<p>Before in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import org.optaplanner.core.impl.move.Move;
import org.optaplanner.core.impl.move.CompositeMove;
import org.optaplanner.core.impl.move.NoChangeMove;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import org.optaplanner.core.impl.heuristic.move.Move;
import org.optaplanner.core.impl.heuristic.move.CompositeMove;
import org.optaplanner.core.impl.heuristic.move.NoChangeMove;</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-minor">
<h3 id="_planning_entity_tabu_and_planning_value_tabu_renamed"><code>PLANNING_ENTITY_TABU</code> and <code>PLANNING_VALUE_TABU</code>: renamed</h3>
<div class="paragraph">
<p>The <code>&lt;acceptorType&gt;</code> values <code>PLANNING_ENTITY_TABU</code> and <code>PLANNING_VALUE_TABU</code> are renamed to <code>ENTITY_TABU</code> and <code>VALUE_TABU</code>.
It&#8217;s very unlikely that you&#8217;re using either, because neither specifies the tabu size.</p>
</div>
<div class="paragraph">
<p>Before in <code>*SolverConfig.xml</code> and <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;acceptorType&gt;PLANNING_ENTITY_TABU&lt;/acceptorType&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*SolverConfig.xml</code> and <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;acceptorType&gt;ENTITY_TABU&lt;/acceptorType&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Before in <code>*SolverConfig.xml</code> and <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;acceptorType&gt;PLANNING_VALUE_TABU&lt;/acceptorType&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*SolverConfig.xml</code> and <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;acceptorType&gt;VALUE_TABU&lt;/acceptorType&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-impl-detail">
<h3 id="_bestsolutionrecaller_moved"><code>BestSolutionRecaller</code>: moved</h3>
<div class="paragraph">
<p><code>BestSolutionRecaller</code> moved from package <code>impl.bestsolution</code> to <code>impl.solver.recaller</code>.</p>
</div>
<div class="paragraph">
<p>Before in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import org.optaplanner.core.impl.bestsolution.BestSolutionRecaller;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import org.optaplanner.core.impl.solver.recaller.BestSolutionRecaller;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_from_6_1_0_beta1_to_6_1_0_beta2">From 6.1.0.Beta1 to 6.1.0.Beta2</h2>
<div class="sectionbody">
<div class="sect2 upgrade-recipe-impl-detail">
<h3 id="_planningentitydescriptor_renamed"><code>PlanningEntityDescriptor</code>: renamed</h3>
<div class="paragraph">
<p><code>PlanningEntityDescriptor</code> has been renamed to <code>EntityDescriptor</code>.</p>
</div>
</div>
<div class="sect2 upgrade-recipe-impl-detail">
<h3 id="_planningvariabledescriptor_renamed"><code>PlanningVariableDescriptor</code>: renamed</h3>
<div class="paragraph">
<p><code>PlanningVariableDescriptor</code> has been renamed to <code>GenuineVariableDescriptor</code>.</p>
</div>
</div>
<div class="sect2 upgrade-recipe-major">
<h3 id="_planningvariablelistener_renamed"><code>PlanningVariableListener</code>: renamed</h3>
<div class="paragraph">
<p>The interface <code>PlanningVariableListener</code> has been renamed to <code>VariableListener</code>.</p>
</div>
<div class="paragraph">
<p>Before in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class VehicleUpdatingVariableListener implements PlanningVariableListener&lt;Customer&gt; {</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class VehicleUpdatingVariableListener implements VariableListener&lt;Customer&gt; {</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-major">
<h3 id="_abstractplanningvariablelistener_renamed"><code>AbstractPlanningVariableListener</code>: renamed</h3>
<div class="paragraph">
<p>The class <code>AbstractPlanningVariableListener</code> has been removed.</p>
</div>
<div class="paragraph">
<p>Before in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class VehicleUpdatingVariableListener extends AbstractPlanningVariableListener&lt;Customer&gt; {</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class VehicleUpdatingVariableListener implements VariableListener&lt;Customer&gt; {</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-minor">
<h3 id="_solutionequals_and_solutionhashcode_removed"><code>solutionEquals()</code> and <code>solutionHashCode()</code>: removed</h3>
<div class="paragraph">
<p>If you&#8217;ve copied the <code>solutionEquals()</code> and <code>solutionHashCode()</code> from the examples,
it&#8217;s safe to remove it if you&#8217;re not using <code>solutionTabu</code> (which is often pointless to use).
Also remove the <code>equals()</code> and <code>hashCode()</code> method on your <code>Solution</code> implementation.</p>
</div>
</div>
<div class="sect2 upgrade-recipe-minor">
<h3 id="_debug_logging_changed"><code>DEBUG</code> logging: changed</h3>
<div class="paragraph">
<p>In <code>DEBUG</code> logging, each step now mentions its phase type first:
CH is Construction Heuristic, LS is Local Search, ES is Exhaustive Search.</p>
</div>
</div>
<div class="sect2 upgrade-recipe-minor">
<h3 id="_greatdelugeacceptor_removed"><code>GreatDelugeAcceptor</code>: removed</h3>
<div class="paragraph">
<p><code>GreatDelugeAcceptor</code>, an experimental implementation, has been removed. Use Late Acceptance instead.</p>
</div>
<div class="paragraph">
<p>Before in <code>*SolverConfig.xml</code> and <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">  &lt;greatDelugeWaterLevelUpperBoundRate&gt;...&lt;/greatDelugeWaterLevelUpperBoundRate&gt;
  &lt;greatDelugeWaterRisingRate&gt;...&lt;/greatDelugeWaterRisingRate&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-recommended">
<h3 id="_specify_an_initializingscoretrend">Specify an <code>&lt;initializingScoreTrend&gt;</code></h3>
<div class="paragraph">
<p>Specify an <code>&lt;initializingScoreTrend&gt;</code> in the <code>&lt;scoreDirectorFactory&gt;</code>,
to increase performance of some algorithms (Construction Heuristics and Exhaustive Search).
See the documentation section on <code>InitializingScoreTrend</code> when to use <code>ANY</code>, <code>ONLY_UP</code> or <code>ONLY_DOWN</code>.</p>
</div>
<div class="paragraph">
<p>Before in <code>*SolverConfig.xml</code> and <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">  &lt;scoreDirectorFactory&gt;
&lt;scoreDefinitionType&gt;HARD_SOFT&lt;/scoreDefinitionType&gt;
&lt;scoreDrl&gt;.../cloudBalancingScoreRules.drl&lt;/scoreDrl&gt;
  &lt;/scoreDirectorFactory&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*SolverConfig.xml</code> and <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">  &lt;scoreDirectorFactory&gt;
&lt;scoreDefinitionType&gt;HARD_SOFT&lt;/scoreDefinitionType&gt;
&lt;scoreDrl&gt;.../cloudBalancingScoreRules.drl&lt;/scoreDrl&gt;
&lt;initializingScoreTrend&gt;ONLY_DOWN&lt;/initializingScoreTrend&gt;
  &lt;/scoreDirectorFactory&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-major">
<h3 id="_pickearlytype_replaced"><code>&lt;pickEarlyType&gt;</code>: replaced</h3>
<div class="paragraph">
<p>Replace <code>&lt;pickEarlyType&gt;</code> <code>FIRST_NON_DETERIORATING_SCORE</code> with <code>&lt;initializingScoreTrend&gt;</code> <code>ONLY_DOWN</code>.
If the <code>&lt;initializingScoreTrend&gt;</code> is specified,
the <code>&lt;constructionHeuristic&gt;</code> will automatically use the most appropriate <code>&lt;pickEarlyType&gt;</code>.</p>
</div>
<div class="paragraph">
<p>Before in <code>*SolverConfig.xml</code> and <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">  &lt;scoreDirectorFactory&gt;
...
  &lt;/scoreDirectorFactory&gt;
  ...
  &lt;constructionHeuristic&gt;
&lt;constructionHeuristicType&gt;FIRST_FIT_DECREASING&lt;/constructionHeuristicType&gt;
&lt;forager&gt;
  &lt;pickEarlyType&gt;FIRST_NON_DETERIORATING_SCORE&lt;/pickEarlyType&gt;
&lt;/forager&gt;
  &lt;/constructionHeuristic&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*SolverConfig.xml</code> and <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">  &lt;scoreDirectorFactory&gt;
...
&lt;initializingScoreTrend&gt;ONLY_DOWN&lt;/initializingScoreTrend&gt;
  &lt;/scoreDirectorFactory&gt;
  ...
  &lt;constructionHeuristic&gt;
&lt;constructionHeuristicType&gt;FIRST_FIT_DECREASING&lt;/constructionHeuristicType&gt;
  &lt;/constructionHeuristic&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-major">
<h3 id="_bruteforce_renamed"><code>&lt;bruteForce&gt;</code>: renamed</h3>
<div class="paragraph">
<p>The solver phase <code>&lt;bruteForce&gt;</code> has been replaced by <code>&lt;exhaustiveSearch&gt;</code>â€™s <code>BRUTE_FORCE</code> type.</p>
</div>
<div class="paragraph">
<p>Before in <code>*SolverConfig.xml</code> and <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">  &lt;bruteForce/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*SolverConfig.xml</code> and <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">  &lt;exhaustiveSearch&gt;
    &lt;exhaustiveSearchType&gt;BRUTE_FORCE&lt;/exhaustiveSearchType&gt;
  &lt;/exhaustiveSearch&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>There is now a better alternative to Brute Force: Branch And Bound, see docs for more information.</p>
</div>
</div>
<div class="sect2 upgrade-recipe-major">
<h3 id="_constraintoccurrence_classes_removed"><code>ConstraintOccurrence</code> classes: removed</h3>
<div class="paragraph">
<p>The <code>ConstraintOccurrence</code> classes (which were deprecated) have been removed.
If you hadn&#8217;t switch them to the <code>ConstraintMatch</code> system yet,
scroll up to the section <strong>From 6.0.0.Alpha9 to 6.0.0.Beta1</strong> for instructions.</p>
</div>
</div>
<div class="sect2 upgrade-recipe-major">
<h3 id="_solver_setplanningproblemsolution_and_solve_merged"><code>Solver</code>: <code>setPlanningProblem(Solution)</code> and <code>solve()</code> merged</h3>
<div class="paragraph">
<p><code>Solver</code> interface: the methods <code>setPlanningProblem(Solution)</code> and <code>solve()</code> have been merged
as the method <code>solve(Solution)</code>.</p>
</div>
<div class="paragraph">
<p>Before in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">solver.setPlanningProblem(planningProblem);
solver.solve();</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">solver.solve(planningProblem);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note: you still need to use <code>solver.getBestSolution()</code> to retrieve the best solution.
That is intentional due to real-time planning and to support pareto optimization in the future.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_from_6_1_0_beta2_to_6_1_0_beta3">From 6.1.0.Beta2 to 6.1.0.Beta3</h2>
<div class="sectionbody">
<div class="sect2 upgrade-recipe-minor">
<h3 id="_valuerangeprovider_on_an_entity_class_use_swapmoveselector_as_is"><code>@ValueRangeProvider</code> on an entity class: use <code>&lt;swapMoveSelector&gt;</code> as is</h3>
<div class="paragraph">
<p>If you have a <code>@ValueRangeProvider</code> on an entity class (instead of the <code>Solution</code> class),
then it&#8217;s now safe to use the <code>&lt;swapMoveSelector&gt;</code> as is.
It&#8217;s no longer needed to filter out swaps which could put a value in an entity&#8217;s variable that&#8217;s not in its value range.</p>
</div>
<div class="paragraph">
<p>Before in <code>*SolverConfig.xml</code> and <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">  &lt;swapMoveSelector&gt;
    &lt;filterClass&gt;...ValidSwapsOnlySwapMoveFilter&lt;/filterClass&gt;
  &lt;/swapMoveSelector&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*SolverConfig.xml and *BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">  &lt;swapMoveSelector/&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-minor">
<h3 id="_scoredirector_split_up"><code>ScoreDirector</code>: split up</h3>
<div class="paragraph">
<p>The interface <code>ScoreDirector</code> has been split up in <code>ScoreDirector</code> and <code>InnerScoreDirector</code>.
<code>ScoreDirector</code> now only has methods which might make the public API in a future version.
<code>InnerScoreDirector</code> extends <code>ScoreDirector</code> and it holds all methods which will never be made part of the public API.
Similarly, <code>ScoreDirectorFactory</code> has been split up in <code>ScoreDirectorFactory</code> and <code>InnerScoreDirectorFactory</code>.</p>
</div>
</div>
<div class="sect2 upgrade-recipe-minor">
<h3 id="_programmatic_configuration_usage_changed">Programmatic configuration: usage changed</h3>
<div class="paragraph">
<p>If you&#8217;re doing programmatic configuration (instead of by XML),
Config methods that accepted a property wrapped in a singleton list (due to XStream limitations),
now no longer need the property wrapped in a list.</p>
</div>
<div class="paragraph">
<p>Before in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">  localSearchSolverPhaseConfig.setMoveSelectorConfigList(Collections.singletonList(moveSelectorConfig));</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">  localSearchSolverPhaseConfig.setMoveSelectorConfig(moveSelectorConfig);</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-major">
<h3 id="_xmlsolverfactory_removed"><code>XmlSolverFactory</code>: removed</h3>
<div class="paragraph">
<p>The class <code>XmlSolverFactory</code> (which was not part of the public API) has been removed
and replaced by static methods on <code>SolverFactory</code> (which are part of the public API).</p>
</div>
<div class="paragraph">
<p>Before in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">SolverFactory solverFactory = new XmlSolverFactory("...solverConfig.xml");</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">SolverFactory solverFactory = SolverFactory.createFromXmlResource("...solverConfig.xml");</code></pre>
</div>
</div>
<div class="paragraph">
<p>Before in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">SolverFactory solverFactory = new XmlSolverFactory().configure(inputStream);</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">SolverFactory solverFactory = SolverFactory.createFromXmlInputStream(inputStream);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Before in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">SolverFactory solverFactory = new XmlSolverFactory().configure(reader);</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">SolverFactory solverFactory = SolverFactory.createFromXmlReader(reader);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note: If you used the method <code>addXstreamAnnotations()</code>, take a look at the non-public API class <code>XStreamXmlSolverFactory</code>.</p>
</div>
</div>
<div class="sect2 upgrade-recipe-major">
<h3 id="_xmlplannerbenchmarkfactory_removed"><code>XmlPlannerBenchmarkFactory</code>: removed</h3>
<div class="paragraph">
<p>Benchmarker: The class <code>XmlPlannerBenchmarkFactory</code> has been removed
and replaced by static methods on <code>PlannerBenchmarkFactory</code>.</p>
</div>
<div class="paragraph">
<p>Before in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">PlannerBenchmarkFactory plannerBenchmarkFactory = new XmlPlannerBenchmarkFactory(...);</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">PlannerBenchmarkFactory plannerBenchmarkFactory = PlannerBenchmarkFactory.createFromXmlResource(...);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note: If you used the method <code>addXstreamAnnotations()</code>, take a look at the non-public API class XStreamXmlPlannerBenchmarkFactory.</p>
</div>
</div>
<div class="sect2 upgrade-recipe-minor">
<h3 id="_freemarkerxmlplannerbenchmarkfactory_removed"><code>FreemarkerXmlPlannerBenchmarkFactory</code>: removed</h3>
<div class="paragraph">
<p>Benchmarker: The class <code>FreemarkerXmlPlannerBenchmarkFactory</code> has been removed
and replaced by static methods on <code>PlannerBenchmarkFactory</code>.</p>
</div>
<div class="paragraph">
<p>Before in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">PlannerBenchmarkFactory plannerBenchmarkFactory = new FreemarkerXmlPlannerBenchmarkFactory(...);</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">PlannerBenchmarkFactory plannerBenchmarkFactory = PlannerBenchmarkFactory.createFromFreemarkerXmlResource(...);</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-major">
<h3 id="_xstreamannotatedclass_renamed"><code>&lt;xstreamAnnotatedClass&gt;</code>: renamed</h3>
<div class="paragraph">
<p>Benchmarker configuration: the element <code>&lt;xstreamAnnotatedClass&gt;</code> has been renamed to <code>&lt;xStreamAnnotatedClass&gt;</code>.</p>
</div>
<div class="paragraph">
<p>Before in <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;problemBenchmarks&gt;
  &lt;xstreamAnnotatedClass&gt;org.optaplanner.examples.nqueens.domain.NQueens&lt;/xstreamAnnotatedClass&gt;
  ...
&lt;/problemBenchmarks&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;problemBenchmarks&gt;
  &lt;xStreamAnnotatedClass&gt;org.optaplanner.examples.nqueens.domain.NQueens&lt;/xStreamAnnotatedClass&gt;
  ...
&lt;/problemBenchmarks&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-readme">
<h3 id="_classpath_resources_configuration_changed">Classpath resources configuration changed</h3>
<div class="paragraph">
<p>All classpath resources must lose their leading slash,
because OptaPlanner now expects them to adhere to <code>ClassLoader.getResource(String)</code> instead of <code>Class.getResource(String)</code>.</p>
</div>
</div>
<div class="sect2 upgrade-recipe-major">
<h3 id="_solverfactory_createfromxmlresourcestring_changed"><code>SolverFactory.createFromXmlResource(String)</code>: changed</h3>
<div class="paragraph">
<p>The <code>SolverFactory.createFromXmlResource(String)</code> parameter must lose its leading slash.</p>
</div>
<div class="paragraph">
<p>Before in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">... = SolverFactory.createFromXmlResource(
        "/org/optaplanner/examples/cloudbalancing/solver/cloudBalancingSolverConfig.xml");</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">... = SolverFactory.createFromXmlResource(
        "org/optaplanner/examples/cloudbalancing/solver/cloudBalancingSolverConfig.xml");</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-major">
<h3 id="_scoredrl_changed"><code>&lt;scoreDrl&gt;</code>: changed</h3>
<div class="paragraph">
<p>All elements <code>&lt;scoreDrl&gt;</code> must lose their leading slash.</p>
</div>
<div class="paragraph">
<p>Before in <code>*SolverConfig.xml</code> and <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;scoreDrl&gt;/org/optaplanner/examples/cloudbalancing/solver/cloudBalancingScoreRules.drl&lt;/scoreDrl&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*SolverConfig.xml</code> and <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;scoreDrl&gt;org/optaplanner/examples/cloudbalancing/solver/cloudBalancingScoreRules.drl&lt;/scoreDrl&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-major">
<h3 id="_plannerbenchmarkfactory_createfromxmlresourcestring_changed"><code>PlannerBenchmarkFactory.createFromXmlResource(String)</code>: changed</h3>
<div class="paragraph">
<p>The <code>PlannerBenchmarkFactory.createFromXmlResource(String)</code> parameter must lose its leading slash.</p>
</div>
<div class="paragraph">
<p>Before in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">... = PlannerBenchmarkFactory.createFromXmlResource(
        "/org/optaplanner/examples/cloudbalancing/benchmark/cloudBalancingBenchmarkConfig.xml");</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">... = PlannerBenchmarkFactory.createFromXmlResource(
        "org/optaplanner/examples/cloudbalancing/benchmark/cloudBalancingBenchmarkConfig.xml");</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-major">
<h3 id="_plannerbenchmarkfactory_createfromfreemarkerxmlresourcestring_changed"><code>PlannerBenchmarkFactory.createFromFreemarkerXmlResource(String)</code>: changed</h3>
<div class="paragraph">
<p>The <code>PlannerBenchmarkFactory.createFromFreemarkerXmlResource(String)</code> parameter must lose its leading slash.</p>
</div>
<div class="paragraph">
<p>Before in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">... = PlannerBenchmarkFactory.createFromFreemarkerXmlResource(
        "/org/optaplanner/examples/cloudbalancing/benchmark/cloudBalancingBenchmarkConfigTemplate.xml.ftl");</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">... = PlannerBenchmarkFactory.createFromFreemarkerXmlResource(
        "org/optaplanner/examples/cloudbalancing/benchmark/cloudBalancingBenchmarkConfigTemplate.xml.ftl");</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-major">
<h3 id="_simplescorecalculator_renamed"><code>SimpleScoreCalculator</code>: renamed</h3>
<div class="paragraph">
<p>The interface <code>SimpleScoreCalculator</code> has been renamed to <code>EasyScoreCalculator</code>
to avoid confusion with <code>SimpleScore</code> and <code>SimpleScore</code>: it can return other <code>Score</code> types too.
The package name has changed too.</p>
</div>
<div class="paragraph">
<p>Before in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import org.optaplanner.core.impl.score.director.simple.SimpleScoreCalculator;
public class CloudBalancingEasyScoreCalculator implements SimpleScoreCalculator&lt;CloudBalance&gt; {
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import org.optaplanner.core.impl.score.director.easy.EasyScoreCalculator;
public class CloudBalancingEasyScoreCalculator implements EasyScoreCalculator&lt;CloudBalance&gt; {
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Before in <code>*SolverConfig.xml</code> and <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;simpleScoreCalculatorClass&gt;org.optaplanner.examples.cloudbalancing.optional.score.CloudBalancingEasyScoreCalculator&lt;simpleScoreCalculatorClass&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*SolverConfig.xml</code> and <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;easyScoreCalculatorClass&gt;org.optaplanner.examples.cloudbalancing.optional.score.CloudBalancingEasyScoreCalculator&lt;easyScoreCalculatorClass&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_from_6_1_0_beta3_to_6_1_0_beta4">From 6.1.0.Beta3 to 6.1.0.Beta4</h2>
<div class="sectionbody">
<div class="sect2 upgrade-recipe-minor">
<h3 id="_custom_scoredefinition_score_changed">Custom <code>ScoreDefinition</code>: <code>Score</code> changed</h3>
<div class="paragraph">
<p>If you have a custom <code>ScoreDefinition</code>: the <code>Score</code> interface has an extra method <code>negate()</code>.</p>
</div>
</div>
<div class="sect2 upgrade-recipe-minor">
<h3 id="_simulated_annealing_with_bestscorelimit_behaviour_changed">Simulated Annealing with <code>&lt;bestScoreLimit&gt;</code>: behaviour changed</h3>
<div class="paragraph">
<p>If you combine Simulated Annealing with <code>&lt;bestScoreLimit&gt;</code>:
The <code>timeGradient</code> (used only by Simulated Annealing) calculation has changed for <code>BestScoreTermination</code>.
On average, this should be for the better.</p>
</div>
</div>
<div class="sect2 upgrade-recipe-minor">
<h3 id="_bestsolutionchangedevent_and_solvereventlistener_generified"><code>BestSolutionChangedEvent</code> and <code>SolverEventListener</code>: generified</h3>
<div class="paragraph">
<p><code>BestSolutionChangedEvent</code> and <code>SolverEventListener</code> now have a generic parameter which you can optionally use.</p>
</div>
<div class="paragraph">
<p>Before in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">solver.addEventListener(new SolverEventListener() {
    public void bestSolutionChanged(BestSolutionChangedEvent event) {
        CloudBalance solution = (CloudBalance) event.getNewBestSolution();
    }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">solver.addEventListener(new SolverEventListener&lt;CloudBalance&gt;() {
    public void bestSolutionChanged(BestSolutionChangedEvent&lt;CloudBalance&gt; event) {
        CloudBalance solution = event.getNewBestSolution();
    }
});</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-minor">
<h3 id="_bestsolutionchangedevent_isnewbestsolutioninitialized_and_iseveryproblemfactchangeprocessed_added"><code>BestSolutionChangedEvent</code>: <code>isNewBestSolutionInitialized()</code> and <code>isEveryProblemFactChangeProcessed()</code> added</h3>
<div class="paragraph">
<p><code>BestSolutionChangedEvent</code> now has the methods <code>isNewBestSolutionInitialized()</code> and <code>isEveryProblemFactChangeProcessed()</code>.
In real-time planning, if you&#8217;re only interested in processing valid solutions, you&#8217;ll want to filter and check those.</p>
</div>
<div class="paragraph">
<p>Note: in 6.0, filtering <code>BestSolutionChangedEvents</code> for only valid solutions was cumbersome.</p>
</div>
<div class="paragraph">
<p>Note: often you&#8217;re interested in invalid, uninitialized solutions too, to show to the user you&#8217;ve processed his problem fact changes.</p>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    public void bestSolutionChanged(BestSolutionChangedEvent&lt;CloudBalance&gt; event) {
        // Ignore invalid solutions
        if (event.isEveryProblemFactChangeProcessed()
                &amp;&amp; event.isNewBestSolutionInitialized()
                &amp;&amp; event.getNewBestSolution().getScore().isFeasible()) {
            ...
        }
    }</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-minor">
<h3 id="_writeoutputsolutionenabled_output_location_changed"><code>&lt;writeOutputSolutionEnabled&gt;</code>: output location changed</h3>
<div class="paragraph">
<p>A benchmark configuration with <code>&lt;writeOutputSolutionEnabled&gt;true&lt;/&#8230;&#8203;&gt;</code> now writes the solution files
in the single benchmark directory (instead of the problem benchmark directory)
and no longer alters the filename.</p>
</div>
</div>
<div class="sect2 upgrade-recipe-minor">
<h3 id="_subchainchangemoveselector_and_subchainswapmoveselector_default_parameters_changed"><code>&lt;subChainChangeMoveSelector&gt;</code> and <code>&lt;subChainSwapMoveSelector&gt;</code>: default parameters changed</h3>
<div class="paragraph">
<p><code>&lt;subChainChangeMoveSelector&gt;</code> and <code>&lt;subChainSwapMoveSelector&gt;</code>â€™s <code>&lt;subChainSelector&gt;</code>s now default
to a <code>&lt;minimumSubChainSize&gt;</code> of 1 instead of 2.
This is to enable <code>&lt;subChainSwapMoveSelector&gt;</code> to swap a subchain of size 1 and a subchain of at least size 2 too.</p>
</div>
</div>
<div class="sect2 upgrade-recipe-minor">
<h3 id="_pillarswapmoveselector_default_parameters_changed"><code>&lt;pillarSwapMoveSelector&gt;</code>: default parameters changed</h3>
<div class="paragraph">
<p><code>&lt;pillarSwapMoveSelector&gt;</code>â€™s <code>&lt;pillarSelector&gt;</code> now selects subpillars too by default.
Normally, that&#8217;s an improvement.</p>
</div>
<div class="paragraph">
<p>Before in <code>*SolverConfig.xml</code> and <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">  &lt;pillarSwapMoveSelector/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*SolverConfig.xml</code> and <code>*BenchmarkConfig.xml</code> (if you don&#8217;t want this new behaviour):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">  &lt;pillarSwapMoveSelector&gt;
    &lt;pillarSelector&gt;
      &lt;subPillarEnabled&gt;false&lt;/subPillarEnabled&gt;
    &lt;/pillarSelector&gt;
  &lt;/pillarSwapMoveSelector&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note: <code>&lt;pillarChangeMoveSelector&gt;</code> is not supported too</p>
</div>
</div>
<div class="sect2 upgrade-recipe-minor">
<h3 id="_solverphase_renamed"><code>SolverPhase</code>: renamed</h3>
<div class="paragraph">
<p><code>SolverPhase</code> has been renamed to <code>Phase</code>. <code>SolverPhaseConfig</code> has been renamed to <code>PhaseConfig</code>.</p>
</div>
<div class="paragraph">
<p>Before in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    List&lt;SolverPhaseConfig&gt; solverPhaseConfigList = new ArrayList&lt;SolverPhaseConfig&gt;();
    ConstructionHeuristicSolverPhaseConfig solverPhaseConfig = new ConstructionHeuristicSolverPhaseConfig();
    ...
    solverPhaseConfigList.add(solverPhaseConfig);
    ...
    solverConfig.setPhaseConfigList(phaseConfigList);</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    List&lt;PhaseConfig&gt; phaseConfigList = new ArrayList&lt;PhaseConfig&gt;();
    ConstructionHeuristicPhaseConfig phaseConfig = new ConstructionHeuristicPhaseConfig();
    ...
    phaseConfigList.add(phaseConfig);
    ...
    solverConfig.setPhaseConfigList(phaseConfigList);</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-major">
<h3 id="_customsolverphasecommand_renamed"><code>CustomSolverPhaseCommand</code>: renamed</h3>
<div class="paragraph">
<p>The interface <code>CustomSolverPhaseCommand</code> has been renamed to <code>CustomPhaseCommand</code>.
The element <code>&lt;customSolverPhase&gt;</code> has been renamed to <code>&lt;customPhase&gt;</code>.
The element <code>&lt;customSolverPhaseCommandClass&gt;</code> has been renamed to <code>&lt;customPhaseCommandClass&gt;</code>.</p>
</div>
<div class="paragraph">
<p>Before in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class ToOriginalMachineSolutionInitializer implements CustomSolverPhaseCommand {
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class ToOriginalMachineSolutionInitializer implements CustomPhaseCommand {
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Before in <code>*SolverConfig.xml</code> and <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">  &lt;customSolverPhase&gt;
&lt;customSolverPhaseCommandClass&gt;...ToOriginalMachineSolutionInitializer&lt;/customSolverPhaseCommandClass&gt;
  &lt;/customSolverPhase&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*SolverConfig.xml</code> and <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">  &lt;customPhase&gt;
&lt;customPhaseCommandClass&gt;...ToOriginalMachineSolutionInitializer&lt;/customPhaseCommandClass&gt;
  &lt;/customPhase&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_from_6_1_0_beta4_to_6_1_0_cr1">From 6.1.0.Beta4 to 6.1.0.CR1</h2>
<div class="sectionbody">
<div class="sect2 upgrade-recipe-impl-detail">
<h3 id="_scoredefinition_getlevelcount_renamed"><code>ScoreDefinition</code>: <code>getLevelCount()</code> renamed</h3>
<div class="paragraph">
<p>The method <code>ScoreDefinition.getLevelCount()</code> has been renamed to <code>ScoreDefinition.getLevelsSize()</code>.</p>
</div>
</div>
<div class="sect2 upgrade-recipe-major">
<h3 id="_bendablescore_configuration_changed"><code>BendableScore</code>: configuration changed</h3>
<div class="paragraph">
<p><code>BendableScore</code>: the configuration has changed: <code>&#8230;&#8203;LevelCount</code> has been renamed to <code>&#8230;&#8203;LevelsSize</code></p>
</div>
<div class="paragraph">
<p>Before in <code>*SolverConfig.xml</code> and <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">  &lt;scoreDirectorFactory&gt;
&lt;scoreDefinitionType&gt;BENDABLE&lt;/scoreDefinitionType&gt;
&lt;bendableHardLevelCount&gt;2&lt;/bendableHardLevelCount&gt;
&lt;bendableSoftLevelCount&gt;3&lt;/bendableSoftLevelCount&gt;
...
  &lt;/scoreDirectorFactory&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*SolverConfig.xml</code> and <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">  &lt;scoreDirectorFactory&gt;
&lt;scoreDefinitionType&gt;BENDABLE&lt;/scoreDefinitionType&gt;
&lt;bendableHardLevelsSize&gt;2&lt;/bendableHardLevelsSize&gt;
&lt;bendableSoftLevelsSize&gt;3&lt;/bendableSoftLevelsSize&gt;
...
  &lt;/scoreDirectorFactory&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-minor">
<h3 id="_solverrankingweightfactory_moved"><code>SolverRankingWeightFactory</code>: moved</h3>
<div class="paragraph">
<p>The interface <code>SolverRankingWeightFactory</code> has moved package (but almost nobody uses that).</p>
</div>
</div>
<div class="sect2 upgrade-recipe-minor">
<h3 id="_programmatic_configuration_classes_moved">Programmatic configuration: classes moved</h3>
<div class="paragraph">
<p>Configuration by Java (instead of XML):
Enums for the Config classes have been moved into the config package
and any inner classes of those enums have been moved to the top level.</p>
</div>
<div class="paragraph">
<p>Before in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import org.optaplanner.core.config.score.director.ScoreDirectorFactoryConfig.ScoreDefinitionType;
import org.optaplanner.core.config.solver.termination.TerminationConfig.TerminationCompositionStyle;
import org.optaplanner.core.impl.heuristic.selector.common.SelectionCacheType;
import org.optaplanner.core.impl.heuristic.selector.common.decorator.SelectionSorterOrder;
import org.optaplanner.core.config.constructionheuristic.ConstructionHeuristicPhaseConfig.ConstructionHeuristicType;
import org.optaplanner.core.impl.constructionheuristic.decider.forager.ConstructionHeuristicPickEarlyType;
import org.optaplanner.core.impl.localsearch.decider.forager.PickEarlyType;
import org.optaplanner.core.config.localsearch.decider.acceptor.AcceptorConfig.AcceptorType;
import org.optaplanner.benchmark.impl.statistic.ProblemStatisticType;
import org.optaplanner.benchmark.api.ranking.SolverRankingType;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import org.optaplanner.core.config.score.definition.ScoreDefinitionType;
import org.optaplanner.core.config.solver.termination.TerminationCompositionStyle;
import org.optaplanner.core.config.heuristic.selector.common.SelectionCacheType;
import org.optaplanner.core.config.heuristic.selector.common.decorator.SelectionSorterOrder;
import org.optaplanner.core.config.constructionheuristic.ConstructionHeuristicType;
import org.optaplanner.core.config.constructionheuristic.decider.forager.ConstructionHeuristicPickEarlyType;
import org.optaplanner.core.config.localsearch.decider.forager.LocalSearchPickEarlyType;
import org.optaplanner.core.config.localsearch.decider.acceptor.AcceptorType;
import org.optaplanner.benchmark.config.statistic.ProblemStatisticType;
import org.optaplanner.benchmark.config.ranking.SolverRankingType;</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-impl-detail">
<h3 id="_foragerconfig_renamed"><code>ForagerConfig</code>: renamed</h3>
<div class="paragraph">
<p><code>ForagerConfig</code> has been renamed to <code>LocalSearchForagerConfig</code></p>
</div>
</div>
<div class="sect2 upgrade-recipe-major">
<h3 id="_solution_moved"><code>Solution</code>: moved</h3>
<div class="paragraph">
<p>The interface <code>Solution</code> has been promoted to the public API.
It has also moved package from <code>impl.solution</code> to <code>api.domain.solution</code></p>
</div>
<div class="paragraph">
<p>Before in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import org.optaplanner.core.impl.solution.Solution;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import org.optaplanner.core.api.domain.solution.Solution;</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-major">
<h3 id="_planningvariable_chained_refactored"><code>@PlanningVariable</code>: <code>chained</code> refactored</h3>
<div class="paragraph">
<p>The <code>@PlanningVariable</code> property <code>chained</code> has been refactored to <code>graphType</code>.
This is to allow support for other graph types (such as <code>TREE</code>) in the future.</p>
</div>
<div class="paragraph">
<p>Before in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@PlanningVariable(chained = true, ...)
public Standstill getPreviousStandstill() {
    return previousStandstill;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@PlanningVariable(graphType = PlanningVariableGraphType.CHAINED, ...)
public Standstill getPreviousStandstill() {
    return previousStandstill;
}</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-major">
<h3 id="_best_fit_renamed"><code>BEST_FIT</code>: renamed</h3>
<div class="paragraph">
<p>The <code>constructionHeuristicType</code> <code>BEST_FIT</code> has been renamed into <code>WEAKEST_FIT</code>.
The terminology "Best Fit" was not correct and did not allow for <code>STRONGEST_FIT</code>.</p>
</div>
<div class="paragraph">
<p>Before in <code>*SolverConfig.xml</code> and <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">  &lt;constructionHeuristic&gt;
    &lt;constructionHeuristicType&gt;BEST_FIT&lt;/constructionHeuristicType&gt;
  &lt;/constructionHeuristic&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*SolverConfig.xml</code> and <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">  &lt;constructionHeuristic&gt;
    &lt;constructionHeuristicType&gt;WEAKEST_FIT&lt;/constructionHeuristicType&gt;
  &lt;/constructionHeuristic&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-major">
<h3 id="_best_fit_decreasing_renamed"><code>BEST_FIT_DECREASING</code>: renamed</h3>
<div class="paragraph">
<p>The <code>constructionHeuristicType</code> <code>BEST_FIT_DECREASING</code> has been renamed into <code>WEAKEST_FIT_DECREASING</code>.
The terminology "Best Fit" was not correct and did not allow for <code>STRONGEST_FIT_DECREASING</code>.</p>
</div>
<div class="paragraph">
<p>Before in <code>*SolverConfig.xml</code> and <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">  &lt;constructionHeuristic&gt;
    &lt;constructionHeuristicType&gt;BEST_FIT_DECREASING&lt;/constructionHeuristicType&gt;
  &lt;/constructionHeuristic&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*SolverConfig.xml</code> and <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">  &lt;constructionHeuristic&gt;
    &lt;constructionHeuristicType&gt;WEAKEST_FIT_DECREASING&lt;/constructionHeuristicType&gt;
  &lt;/constructionHeuristic&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-major">
<h3 id="_planningvariablemappedby_renamed"><code>@PlanningVariable(mappedBy)</code> renamed</h3>
<div class="paragraph">
<p>For the shadow variable of a bi-directional relationship,
the declaration has changed from <code>@PlanningVariable(mappedBy)</code> to <code>@InverseRelationShadowVariable(sourceVariableName)</code>.</p>
</div>
<div class="paragraph">
<p>Before in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@PlanningVariable(mappedBy = "previousStandstill")
Customer getNextCustomer();
void setNextCustomer(Customer nextCustomer);</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@InverseRelationShadowVariable(sourceVariableName = "previousStandstill")
Customer getNextCustomer();
void setNextCustomer(Customer nextCustomer);</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-major">
<h3 id="_variablelistener_usage_changed"><code>VariableListener</code>: usage changed</h3>
<div class="paragraph">
<p><code>VariableListener</code>: the <code>VariableListener</code> is now declared on the shadow side, instead of the <code>@PlanningVariable</code> side.
This way, OptaPlanner recognizes the shadow variables, and all shadow variables are declared in a consistent matter.
Furthermore, it allows a shadow variable to based on other shadow variable.</p>
</div>
<div class="paragraph">
<p>Before in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@PlanningVariable(valueRangeProviderRefs = {"vehicleRange", "customerRange"},
        graphType = PlanningVariableGraphType.CHAINED,
        variableListenerClasses = {VehicleUpdatingVariableListener.class, ArrivalTimeUpdatingVariableListener.class})
public Standstill getPreviousStandstill() {
    return previousStandstill;
}
public Vehicle getVehicle() {
    return vehicle;
}
public Integer getArrivalTime() {
    return arrivalTime;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@PlanningVariable(...)
public Standstill getPreviousStandstill() {
    return previousStandstill;
}
@CustomShadowVariable(variableListenerClass = VehicleUpdatingVariableListener.class,
        sources = {@CustomShadowVariable.Source(variableName = "previousStandstill")})
public Vehicle getVehicle() {
    return vehicle;
}
@CustomShadowVariable(variableListenerClass = ArrivalTimeUpdatingVariableListener.class,
        sources = {@CustomShadowVariable.Source(variableName = "previousStandstill")})
public Integer getArrivalTime() {
    return arrivalTime;
}</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-minor">
<h3 id="_shadow_entities">Shadow entities</h3>
<div class="paragraph">
<p>Even classes that only have shadow variables (and extend a planning entity class),
now need to be explicitly registered as planning entities.
Previously, it was only required for inverse relationship shadow variables. Now it&#8217;s required for all shadow variables.</p>
</div>
<div class="paragraph">
<p>Before in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class TimeWindowedCustomer extends Customer {</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@PlanningEntity
public class TimeWindowedCustomer extends Customer {</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*SolverConfig.xml</code> and <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;planningEntityClass&gt;org.optaplanner.examples.vehiclerouting.domain.timewindowed.TimeWindowedCustomer&lt;/planningEntityClass&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-major">
<h3 id="_planningentityclass_ordering_changed"><code>&lt;planningEntityClass&gt;</code>: ordering changed</h3>
<div class="paragraph">
<p>Multiple <code>&lt;planningEntityClass&gt;</code> elements now need to be ordered by superclasses (and superinterfaces) first,
instead of superclasses (and superinterfaces) last.</p>
</div>
<div class="paragraph">
<p>Before in <code>*SolverConfig.xml</code> and <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;planningEntityClass&gt;...TimeWindowedCustomer&lt;/planningEntityClass&gt;
&lt;planningEntityClass&gt;...Customer&lt;/planningEntityClass&gt;
&lt;planningEntityClass&gt;...Standstill&lt;/planningEntityClass&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*SolverConfig.xml</code> and <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;planningEntityClass&gt;...Standstill&lt;/planningEntityClass&gt;
&lt;planningEntityClass&gt;...Customer&lt;/planningEntityClass&gt;
&lt;planningEntityClass&gt;...TimeWindowedCustomer&lt;/planningEntityClass&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-major">
<h3 id="_planningentityclass_renamed"><code>&lt;planningEntityClass&gt;</code>: renamed</h3>
<div class="paragraph">
<p>The element <code>&lt;planningEntityClass&gt;</code> has been renamed to <code>&lt;entityClass&gt;</code>.</p>
</div>
<div class="paragraph">
<p>Before in <code>*SolverConfig.xml</code> and <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;planningEntityClass&gt;org.optaplanner.examples.cloudbalancing.domain.CloudProcess&lt;/planningEntityClass&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*SolverConfig.xml</code> and <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;entityClass&gt;org.optaplanner.examples.cloudbalancing.domain.CloudProcess&lt;/entityClass&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-major">
<h3 id="_xstreamscoreconverter_and_xstreambendablescoreconverter_moved"><code>XStreamScoreConverter</code> and <code>XStreamBendableScoreConverter</code>: moved</h3>
<div class="paragraph">
<p><code>XStreamScoreConverter</code> and <code>XStreamBendableScoreConverter</code> have moved package.</p>
</div>
<div class="paragraph">
<p>Before in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import org.optaplanner.persistence.xstream.XStreamScoreConverter;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import org.optaplanner.persistence.xstream.api.score.XStreamScoreConverter;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Before in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import org.optaplanner.persistence.xstream.XStreamBendableScoreConverter;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import org.optaplanner.persistence.xstream.api.score.XStreamBendableScoreConverter;</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-major">
<h3 id="_problemio_renamed"><code>ProblemIO</code>: renamed</h3>
<div class="paragraph">
<p><code>ProblemIO</code> has been renamed to <code>SolutionFileIO</code> and moved package (into the public API).</p>
</div>
<div class="paragraph">
<p>Before in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import org.optaplanner.core.impl.solution.ProblemIO;
public class MachineReassignmentFileIO implements ProblemIO {
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import org.optaplanner.persistence.common.api.domain.solution.SolutionFileIO;
public class MachineReassignmentFileIO implements SolutionFileIO {
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Before in <code>*SolverConfig.xml</code> and <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;problemBenchmarks&gt;
  &lt;problemIOClass&gt;...MachineReassignmentProblemIO&lt;/problemIOClass&gt;
  ...
&lt;/problemBenchmarks&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*SolverConfig.xml</code> and <code>*BenchmarkConfig.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;problemBenchmarks&gt;
  &lt;solutionFileIOClass&gt;...MachineReassignmentFileIO&lt;/solutionFileIOClass&gt;
  ...
&lt;/problemBenchmarks&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Before in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import org.optaplanner.persistence.xstream.XStreamProblemIO;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import org.optaplanner.persistence.xstream.impl.domain.solution.XStreamSolutionFileIO;</code></pre>
</div>
</div>
</div>
<div class="sect2 upgrade-recipe-major">
<h3 id="_solutionfileio_getfileextension_split_up"><code>SolutionFileIO</code>: <code>getFileExtension()</code> split up</h3>
<div class="paragraph">
<p>The method <code>SolutionFileIO.getFileExtension()</code> has been split up in <code>getInputFileExtension()</code> and <code>getOutputFileExtension()</code>;
It&#8217;s still highly recommended to use the same input and output file extension.</p>
</div>
<div class="paragraph">
<p>Before in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public String getFileExtension() {
    return FILE_EXTENSION;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>After in <code>*.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public String getInputFileExtension() {
    return FILE_EXTENSION;
}
public String getOutputFileExtension() {
    return FILE_EXTENSION;
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_from_6_1_0_cr1_to_6_1_0_cr2">From 6.1.0.CR1 to 6.1.0.CR2</h2>
<div class="sectionbody">
<div class="sect2 upgrade-recipe-impl-detail">
<h3 id="_solutiondescriptor_getentitydescriptor_renamed"><code>SolutionDescriptor</code>: <code>getEntityDescriptor(&#8230;&#8203;)</code> renamed</h3>
<div class="paragraph">
<p><code>SolutionDescriptor.getEntityDescriptor(&#8230;&#8203;)</code> has been renamed to <code>SolutionDescriptor.findEntityDescriptorOrFail(&#8230;&#8203;)</code></p>
</div>
</div>
</div>
</div>        </div>
        <div class="col-md-3">
    <div class="card mb-4">
        <div class="card-header">Latest release</div>
        <div class="card-body">
            <ul class="list-unstyled">
                <li class="mb-2">
                    <div class="title">
                        <a href="../../download/releaseNotes/releaseNotes8.html">
                            8.14.0.Final released
                        </a>
                    </div>
                    <div class="small">
                        Wed 8 December 2021
                    </div>
                </li>
            </ul>
        </div>
    </div>
    <div class="card mb-4">
        <div class="card-header bg-dark text-white">Paid support and consulting</div>
        <div class="card-body">
            <p>
                <b>Want to talk to the experts?</b>
                Red Hat offers certified binaries with enterprise consulting.
                Contact <a class="servicesMailAddress">optaplanner-info</a> for more information.
            </p>
        </div>
    </div>
    <div class="card mb-4">
        <div class="card-header">Upcoming events</div>
        <div class="card-body">
            <ul class="list-unstyled">
                        <li class="mb-2">
                            <div class="title">
                                    <a href="https://www.devconf.cz/">DevConf.CZ</a>
                            </div>
                            <span>
                                Brno, Czech Republic (virtual) - Fri 28 January 2022
                                    <ul class="list-unstyled">
                                            <li class="ms-4">
                                                    Artificial Intelligence on Quarkus: I love it when an OptaPlan comes together
                                                    <span class="small">by Geoffrey De Smet</span>
                                            </li>
                                    </ul>
                            </span>
                        </li>
                        <li class="mb-2">
                            <div class="title">
                                    <a href="https://www.jfokus.se/">JFokus</a>
                            </div>
                            <span>
                                Stockholm, Sweden - Mon 7 February 2022
                                    <ul class="list-unstyled">
                                            <li class="ms-4">
                                                    <a href="https://www.jfokus.se/talks/712">AI maintenance scheduling with OptaPlanner on Quarkus</a>
                                                    <span class="small">by Geoffrey De Smet</span>
                                            </li>
                                    </ul>
                            </span>
                        </li>
                <div class="small float-end">
                    <a href="https://github.com/kiegroup/optaplanner-website/blob/main/optaplanner-website-root/data/events.yml">Add event</a>
                    /
                    <a href="../../community/eventsArchive.html">Archive</a>
                </div>
            </ul>
        </div>
    </div>
    <div class="card mb-4">
        <div class="card-header">Latest blog posts</div>
        <div class="card-body">
            <ul class="list-unstyled">
                    <li class="mb-2">
                        <div class="title">
                            <a href="../../blog/2021/10/26/DocsTurnOverANewLeaf.html">OptaPlanner documentation turns over a new leaf</a>
                        </div>
                        <div class="small">Tue 26 October 2021</div>
    <span>
        <img class="rounded me-1" src="https://www.gravatar.com/avatar/f1b0cd1c06b5697dbc91f02ea00f3090?s=20&d=mm"/>
        <span class="align-middle">Radovan Synek</span>
    </span>
                    </li>
                    <li class="mb-2">
                        <div class="title">
                            <a href="../../blog/2021/10/14/OrderPickingQuickstart.html">Order picking optimization in warehouses and supermarkets with OptaPlanner</a>
                        </div>
                        <div class="small">Thu 14 October 2021</div>
    <span>
        <img class="rounded me-1" src="https://www.gravatar.com/avatar/4a8c787544c0b40bc033f631dc2256c2?s=20&d=mm"/>
        <span class="align-middle">Walter Medvedeo</span>
    </span>
                    </li>
                    <li class="mb-2">
                        <div class="title">
                            <a href="../../blog/2021/10/12/MonitorTheSolver.html">Monitor OptaPlanner solvers through Micrometer</a>
                        </div>
                        <div class="small">Tue 12 October 2021</div>
    <span>
        <img class="rounded me-1" src="https://www.gravatar.com/avatar/16f228a9f340e2a2ca5b42485a17bc3d?s=20&d=mm"/>
        <span class="align-middle">Christopher Chianelli</span>
    </span>
                    </li>
                    <li class="mb-2">
                        <div class="title">
                            <a href="../../blog/2021/10/05/ANewAIConstraintSolverForPythonOptaPy.html">A new AI constraint solver for Python: OptaPy</a>
                        </div>
                        <div class="small">Tue 5 October 2021</div>
    <span>
        <img class="rounded me-1" src="https://www.gravatar.com/avatar/16f228a9f340e2a2ca5b42485a17bc3d?s=20&d=mm"/>
        <span class="align-middle">Christopher Chianelli</span>
    </span>
                    </li>
                    <li class="mb-2">
                        <div class="title">
                            <a href="../../blog/2021/09/15/HowMuchFasterIsJava17.html">How much faster is Java 17?</a>
                        </div>
                        <div class="small">Wed 15 September 2021</div>
    <span>
        <img class="rounded me-1" src="https://www.gravatar.com/avatar/27147a6679a4bfb6461ff1c0ae10473e?s=20&d=mm"/>
        <span class="align-middle">Geoffrey De Smet</span>
    </span>
                    </li>
                    <li class="mb-2">
                        <div class="title">
                            <a href="../../blog/2021/08/19/ConstraintStreamsSomeMoreLove.html">Constraint Streams get some more love</a>
                        </div>
                        <div class="small">Thu 19 August 2021</div>
    <span>
        <img class="rounded me-1" src="https://www.gravatar.com/avatar/c950743f532471ac34022e92193563c3?s=20&d=mm"/>
        <span class="align-middle">LukÃ¡Å¡ PetrovickÃ½</span>
    </span>
                    </li>
                    <li class="mb-2">
                        <div class="title">
                            <a href="../../blog/2021/07/26/LetsOptaPlanYourJbpmTasksPart2.html">Let&#8217;s OptaPlan your jBPM tasks (part 2) - BPM Task assigning in the cloud</a>
                        </div>
                        <div class="small">Mon 26 July 2021</div>
    <span>
        <img class="rounded me-1" src="https://www.gravatar.com/avatar/4a8c787544c0b40bc033f631dc2256c2?s=20&d=mm"/>
        <span class="align-middle">Walter Medvedeo</span>
    </span>
                    </li>
                <div class="small float-end">
                    <a href="../../blog/index.html">Blog archive</a>
                </div>
            </ul>
        </div>
    </div>
    <div class="card mb-4">
        <div class="card-header">Latest videos</div>
        <div class="card-body">
            <ul class="list-unstyled">
                    <li class="mb-2">
                        <a style="cursor: pointer" data-bs-toggle="modal" data-bs-target="#videoModal" data-youtube-id="HVDPxebpSvg" data-video-title="AI lesson scheduling on Quarkus with OptaPlanner">
                            <span><i class="fas fa-play-circle"></i></span>
                            <span class="align-text-middle link-primary">AI lesson scheduling on Quarkus with OptaPlanner</span>
                        </a>
                        <div class="small">Thu 18 November 2021</div>
    <span>
        <img class="rounded me-1" src="https://www.gravatar.com/avatar/27147a6679a4bfb6461ff1c0ae10473e?s=20&d=mm"/>
        <span class="align-middle">Geoffrey De Smet</span>
    </span>
                    </li>
                    <li class="mb-2">
                        <a style="cursor: pointer" data-bs-toggle="modal" data-bs-target="#videoModal" data-youtube-id="dqTrjkVxoPI" data-video-title="Maintenance scheduling">
                            <span><i class="fas fa-play-circle"></i></span>
                            <span class="align-text-middle link-primary">Maintenance scheduling</span>
                        </a>
                        <div class="small">Fri 12 November 2021</div>
    <span>
        <img class="rounded me-1" src="https://www.gravatar.com/avatar/27147a6679a4bfb6461ff1c0ae10473e?s=20&d=mm"/>
        <span class="align-middle">Geoffrey De Smet</span>
    </span>
                    </li>
                    <li class="mb-2">
                        <a style="cursor: pointer" data-bs-toggle="modal" data-bs-target="#videoModal" data-youtube-id="-RSZbMT_alo" data-video-title="Optimized order picking in warehouses and supermarkets">
                            <span><i class="fas fa-play-circle"></i></span>
                            <span class="align-text-middle link-primary">Optimized order picking in warehouses and supermarkets</span>
                        </a>
                        <div class="small">Tue 26 October 2021</div>
    <span>
        <img class="rounded me-1" src="https://www.gravatar.com/avatar/4a8c787544c0b40bc033f631dc2256c2?s=20&d=mm"/>
        <span class="align-middle">Walter Medvedeo</span>
    </span>
                    </li>
                    <li class="mb-2">
                        <a style="cursor: pointer" data-bs-toggle="modal" data-bs-target="#videoModal" data-youtube-id="-7ips_GMFmo" data-video-title="A modern OO/FP constraint solver">
                            <span><i class="fas fa-play-circle"></i></span>
                            <span class="align-text-middle link-primary">A modern OO/FP constraint solver</span>
                        </a>
                        <div class="small">Tue 14 September 2021</div>
    <span>
        <img class="rounded me-1" src="https://www.gravatar.com/avatar/27147a6679a4bfb6461ff1c0ae10473e?s=20&d=mm"/>
        <span class="align-middle">Geoffrey De Smet</span>
    </span>
                    </li>
                    <li class="mb-2">
                        <a style="cursor: pointer" data-bs-toggle="modal" data-bs-target="#videoModal" data-youtube-id="hXPzelZHjYk" data-video-title="Business processes task optimization in Kogito">
                            <span><i class="fas fa-play-circle"></i></span>
                            <span class="align-text-middle link-primary">Business processes task optimization in Kogito</span>
                        </a>
                        <div class="small">Tue 7 September 2021</div>
    <span>
        <img class="rounded me-1" src="https://www.gravatar.com/avatar/4a8c787544c0b40bc033f631dc2256c2?s=20&d=mm"/>
        <span class="align-middle">Walter Medvedeo</span>
    </span>
                    </li>
                    <li class="mb-2">
                        <a style="cursor: pointer" data-bs-toggle="modal" data-bs-target="#videoModal" data-youtube-id="HO7l3rWb_uo" data-video-title="School timetable optimization">
                            <span><i class="fas fa-play-circle"></i></span>
                            <span class="align-text-middle link-primary">School timetable optimization</span>
                        </a>
                        <div class="small">Mon 6 September 2021</div>
    <span>
        <img class="rounded me-1" src="https://www.gravatar.com/avatar/27147a6679a4bfb6461ff1c0ae10473e?s=20&d=mm"/>
        <span class="align-middle">Geoffrey De Smet</span>
    </span>
                    </li>
                    <li class="mb-2">
                        <a style="cursor: pointer" data-bs-toggle="modal" data-bs-target="#videoModal" data-youtube-id="NPTzXIyQdqU" data-video-title="Schedule incoming calls real-time">
                            <span><i class="fas fa-play-circle"></i></span>
                            <span class="align-text-middle link-primary">Schedule incoming calls real-time</span>
                        </a>
                        <div class="small">Mon 23 August 2021</div>
    <span>
        <img class="rounded me-1" src="https://www.gravatar.com/avatar/f1b0cd1c06b5697dbc91f02ea00f3090?s=20&d=mm"/>
        <span class="align-middle">Radovan Synek</span>
    </span>
                    </li>
                <div class="small float-end">
                    <a href="https://www.youtube.com/channel/UCcpkOKpujFlM67D2h0RdaeQ">Video archive</a>
                </div>
            </ul>
        </div>
    </div>
        </div>
    </div>
        </div>
    </div>
<footer class="py-4 bg-black text-white-50">
    <div class="container">
        <div class="row">
            <div class="col-md-3">
                <p class="small">OptaPlanner is open.
                    All dependencies of this project are available under the
                    <a class="link-light" href="../../code/license.html">Apache Software License 2.0</a>
                    or a compatible license.
                    OptaPlanner is <a class="link-light" href="../../community/branding.html">trademarked</a>.
                </p>
                <p class="small">
                    This <a class="link-light" href="../../website/websiteInfo.html">website</a>
                    was built with <a class="link-light" href="https://jbake.org">JBake</a> and is open source.
                </p>
            </div>
            <div class="col-md-3">
                <h4>Community</h4>
                <ul class="ps-2 list-unstyled">
                    <li><a class="link-light" href="../../blog/">Blog</a></li>
                    <li><a class="link-light" href="../../community/getHelp.html">Get Help</a></li>
                    <li><a class="link-light" href="../../community/team.html">Team</a></li>
                    <li><a class="link-light" href="../../community/governance.html">Governance</a></li>
                    <li><a class="link-light" href="../../community/research.html">Academic research</a></li>
                </ul>
            </div>
            <div class="col-md-3">
                <h4>Code</h4>
                <ul class="ps-2 list-unstyled">
                    <li><a class="link-light" href="../../code/sourceCode.html">Build from source</a></li>
                    <li><a class="link-light" href="https://issues.redhat.com/projects/PLANNER">Issue tracker</a></li>
                    <li><a class="link-light" href="../../download/releaseNotes/">Release notes</a></li>
                    <li><a class="link-light" href="../../download/upgradeRecipe/">Upgrade recipes</a></li>
                    <li><a class="link-light" href="../../community/branding.html">Logo and branding</a></li>
                </ul>
            </div>
            <div class="col-md-3">
                <h4>KIE projects</h4>
                <ul class="ps-2 list-unstyled">
                    <li><a class="link-light" href="https://www.drools.org/" target="_blank">Drools rule engine</a></li>
                    <li><a class="link-light" href="https://www.optaplanner.org/" target="_blank">OptaPlanner constraint solver</a></li>
                    <li><a class="link-light" href="https://www.jbpm.org/" target="_blank">jBPM workflow engine</a></li>
                    <li><a class="link-light" href="https://kogito.kie.org/" target="_blank">Kogito Business Automation platform</a></li>
                </ul>
            </div>
        </div>
        <div class="d-flex justify-content-evenly align-items-center">
            <div>
                <i class="fab fa-creative-commons"></i><i class="fab fa-creative-commons-by"></i>
                <a class="link-light link-underlined" href="https://creativecommons.org/licenses/by/3.0/" target="_blank">CC by 3.0</a> |
                <a class="link-light link-underlined" href="https://www.redhat.com/en/about/privacy-policy">Privacy Policy</a>
            </div>
            <div>
                <span class="me-2 text-white">Sponsored by</span>
                <a href="https://www.redhat.com/" target="_blank"><img style="width: 6rem" src="https://www.redhat.com/profiles/rh/themes/redhatdotcom/img/logo.svg" alt="Red Hat"></a>
            </div>
        </div>
    </div>
</footer>
    <div class="modal fade" id="videoModal" tabindex="-1" aria-labelledby="videoModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"></h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="ratio ratio-16x9" id="player-container">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"
            integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.2.0/build/highlight.min.js"
            integrity="sha256-mfS2sXKEV8eehy39UH7+7BwaoUaIe2TuLO2DXS+c2mI=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.2.0/build/languages/asciidoc.min.js"
            integrity="sha256-gnB2LPAmHPkrj3czfog5GdIu4aByzcKeTUzC2agNMzM=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.2.0/build/languages/properties.min.js"
            integrity="sha256-1XSLaVD2dn/eCICDUx1DYprsC4UAEa4weDLYY/458wU=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.2.0/build/languages/gradle.min.js"
            integrity="sha256-B5HtfGpeJKLSEsoqtAdi6sSJ05K49CTGHZbrBiJ9CwE=" crossorigin="anonymous"></script>
    <script src="../../website/optaplannerWebsite.js"></script>
    <script>
        // Ruby syntax highlighting works pretty well for DRL source code.
        hljs.registerAliases(["drl"], { languageName: "ruby"});
        hljs.highlightAll();
    </script>
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <script type="text/javascript">
      if (("undefined" !== typeof _satellite) && ("function" === typeof _satellite.pageBottom)) {
        _satellite.pageBottom();
      }
    </script>
    <script src="https://giscus.app/client.js"
        data-repo="beautifulnature/discussions.github.io"
        data-repo-id="R_kgDOGjMC7g"
        data-category-id="DIC_kwDOGjMC7s4CAVdb"
        data-mapping="pathname"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-theme="light"
        data-lang="en"
        crossorigin="anonymous"
        async>
    </script>
</body>
</html>


