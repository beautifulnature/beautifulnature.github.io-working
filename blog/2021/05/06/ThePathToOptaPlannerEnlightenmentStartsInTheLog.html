
<!DOCTYPE html>
<html lang="en">
<head>
    <script id="dpal" src="https://www.redhat.com/dtm.js" type="text/javascript"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-39485370-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-39485370-1');
    </script>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <title>OptaPlanner - The path to OptaPlanner enlightenment starts in the logs</title>
    <meta content="Do you want to understand what OptaPlanner is doing while it is solving? Which decisions it makes? When? And why? Do you want to open the box and take a look inside? If so, keep reading. The Age ..." name="description">
    <meta content="metaheuristic, heuristic, constraint satisfaction, constraint programming, operations research, NP-complete, NP-hard, optimization, planning, scheduling, java, open source, software, library, solver, tabu search, simulated annealing, pareto" name="keywords">
    <link href="https://www.optaplanner.org/blog/2021/05/06/ThePathToOptaPlannerEnlightenmentStartsInTheLog.html" rel="canonical">

    <meta content="The path to OptaPlanner enlightenment starts in the logs" property="og:title">
    <meta content="Do you want to understand what OptaPlanner is doing while it is solving? Which decisions it makes? When? And why? Do you want to open the box and take a look inside? If so, keep reading. The Age ..." property="og:description">
    <meta content="https://www.optaplanner.org/blog/2021/05/06/ThePathToOptaPlannerEnlightenmentStartsInTheLog.html" property="og:url">
    <meta content="OptaPlanner" property="og:site_name">
    <meta content="article" property="og:type">
    <meta content="https://www.optaplanner.org/blog/2021/05/06/generalPhaseSequence.png" property="og:image">
    <meta content="summary" name="twitter:card">
    <meta content="@OptaPlanner" name="twitter:site">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css"
          integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css"
          integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.2.0/build/styles/default.min.css"
          integrity="sha256-CGf39SzxAmEe09Ojoh16/2xTRNleX9wBZcEXVnNqwSM=" crossorigin="anonymous">
    <link rel="stylesheet" href="../../../../website/optaplannerWebsite.css">
    <link href="../../../../favicon.ico" rel="shortcut icon">
</head>

<body>
<nav class="navbar sticky-top navbar-expand-lg navbar-light bg-light border-bottom shadow">
    <div class="container">
        <a class="navbar-brand" href="../../../../">
            <img alt="OptaPlanner logo" src="../../../../headerFooter/optaPlannerLogo200px.png">
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent" aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item"><a class="nav-link" href="../../../../download/download.html">Download</a></li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarLearn" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        Learn
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarLearn">
                        <li><a class="dropdown-item" href="../../../../learn/documentation.html">Documentation</a></li>
                        <li><a class="dropdown-item" href="../../../../learn/video.html">Videos</a></li>
                        <li><a class="dropdown-item" href="../../../../learn/slides.html">Slides</a></li>
                        <li><a class="dropdown-item" href="../../../../learn/training.html">Training</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="../../../../learn/useCases/index.html">Use cases</a></li>
                        <li><a class="dropdown-item" href="../../../../compatibility/index.html">Compatibility</a></li>
                        <li><a class="dropdown-item" href="../../../../learn/testimonialsAndCaseStudies.html">Testimonials and case studies</a></li>
                    </ul>
                </li>
                <li class="nav-item"><a class="nav-link" href="../../../../community/getHelp.html">Get help</a></li>
                <li class="nav-item"><a class="nav-link" href="../../../../blog/">Blog</a></li>
                <li class="nav-item"><a class="nav-link" href="../../../../code/sourceCode.html">Source</a></li>
                <li class="nav-item"><a class="nav-link" href="../../../../community/team.html">Team</a></li>
                <li class="nav-item"><a class="nav-link" href="../../../../product/services.html">Services</a></li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarKIE" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        KIE
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarKIE">
                        <li><a class="dropdown-item" href="https://www.drools.org/" target="_blank">Drools</a></li>
                        <li><a class="dropdown-item" href="https://www.optaplanner.org/" target="_blank">OptaPlanner</a></li>
                        <li><a class="dropdown-item" href="https://www.jbpm.org/" target="_blank">jBPM</a></li>
                        <li><a class="dropdown-item" href="https://kogito.kie.org/" target="_blank">Kogito</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="navbar-nav">
                <li class="p-2"><a aria-label="Star OptaPlanner on GitHub" class="github-button" data-show-count="true" href="https://github.com/kiegroup/optaplanner">Star</a></li>
                <li class="p-1"><a href="https://twitter.com/OptaPlanner" target="_blank" title="Follow OptaPlanner on Twitter"><img alt="T" src="../../../../headerFooter/twitterLogo.png"></a></li>
                <li class="p-1"><a href="https://www.linkedin.com/showcase/optaplanner" target="_blank" title="Follow OptaPlanner on LinkedIn"><img alt="L" src="../../../../headerFooter/linkedInLogo.png"></a></li>
                <li class="p-1"><a href="https://www.facebook.com/OptaPlanner" target="_blank" title="Follow OptaPlanner on Facebook"><img alt="F" src="../../../../headerFooter/facebookLogo.png"></a></li>
                <li class="p-1"><a href="https://www.youtube.com/channel/UCcpkOKpujFlM67D2h0RdaeQ" target="_blank" title="OptaPlanner YouTube channel"><img alt="YT" src="../../../../headerFooter/youtubeLogo.png" style="height: 16px"></a></li>
            </ul>
        </div>
    </div>
</nav>

    <div class="body-without-header-footer">
        <div class="forkMeOnGithub">
            <a href="https://github.com/kiegroup/optaplanner">
                <img alt="Fork me on GitHub" src="../../../../headerFooter/forkMeOnGithub.png">
            </a>
        </div>
        <div class="container py-4">
    <div class="row">
        <div class="col-md-9">
    <div class="post">
        <h1 class="title border-bottom">The path to OptaPlanner enlightenment starts in the logs</h1>
        <div class="mb-4">
            <span class="float-end mb-2">Thu 6 May 2021</span>
    <div class="card bg-light" style="width: 320px;">
        <div class="row gx-2">
            <div class="col-auto">
                <img class="rounded m-1" src="https://www.gravatar.com/avatar/27147a6679a4bfb6461ff1c0ae10473e?s=64&d=mm" width="64" height="64" alt="Avatar Geoffrey De Smet"/>
            </div>
            <div class="col">
                <div class="card-body p-0 me-1">
                    <h5 class="card-title my-1">Geoffrey De Smet</h5>
                    <hr class="m-0"/>
                    <span class="float-end mx-1">
                            <a href="https://twitter.com/GeoffreyDeSmet"><img src="../../../../headerFooter/twitterLogo.png" alt="Twitter"/></a>
                            <a href="https://www.linkedin.com/in/ge0ffrey"><img src="../../../../headerFooter/linkedInLogo.png" alt="LinkedIn"/></a>
                            <a href="https://github.com/ge0ffrey"><img src="../../../../headerFooter/gitHubLogo.png" alt="GitHub"/></a>
                    </span>
                    <p class="small mb-1">OptaPlanner lead</p>
                </div>
            </div>
        </div>
    </div>
        </div>
        <div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Do you want to understand what OptaPlanner is doing while it is solving?
Which decisions it makes? When? And why?
Do you want to open the box and take a look inside?
If so, keep reading.</p>
</div>
<div class="paragraph">
<p><em>The Age of Enlightenment centered on the use of reason and the evidence of the senses.
Similarly, OptaPlanner enlightenment starts with the use of reason and the evidence in the logs.</em></p>
</div>
<div class="paragraph">
<p>OK. That&#8217;s enough philosophy for this article&#8230;&#8203; It&#8217;s time to open the box.
Take a look at the log for <a href="https://youtu.be/7IuOA9n6kh0">the school timetabling AI quickstart</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>12:18:04 INFO Solving started: time spent (196), best score (-38init/0hard/0soft), environment mode (REPRODUCIBLE), move thread count (NONE), random (JDK with seed 0).
12:18:04 INFO Construction Heuristic phase (0) ended: time spent (330), best score (0hard/-11soft), score calculation speed (4358/sec), step total (19).
12:18:34 INFO Local Search phase (1) ended: time spent (30000), best score (0hard/10soft), score calculation speed (12786/sec), step total (26654).
12:18:34 INFO Solving ended: time spent (30000), best score (0hard/10soft), score calculation speed (12663/sec), phase total (2), environment mode (REPRODUCIBLE), move thread count (NONE).</pre>
</div>
</div>
<div class="paragraph">
<p>This is a lot of information, even on the <code>INFO</code> level.
Let&#8217;s investigate each nugget of information in there, one by one:</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_when_did_the_solver_run">When did the solver run?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The log shows when the solver started and when it ended:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>12:18:04 INFO Solving started ...
...
12:18:34 INFO Solving ended ...</pre>
</div>
</div>
<div class="paragraph">
<p>That&#8217;s useful in complex applications with other log lines intertwined.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_is_the_solver_doing">What is the solver doing?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>It also displays what the solver did while solving:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>12:18:04 INFO Solving started ...
12:18:04 INFO Construction Heuristic phase (0) ended ...
12:18:34 INFO Local Search phase (1) ended ...
12:18:34 INFO Solving ended ...</pre>
</div>
</div>
<div class="paragraph">
<p>It ran two algorithm phases sequentially:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Phase 0: a <em>Construction Heuristic</em> to provide an initial solution for the problem</p>
</li>
<li>
<p>Phase 1: a <em>Local Search</em> to improve the solution further</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Here&#8217;s an illustration of those phases on the N-Queens and the Cloud Balancing examples:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="generalPhaseSequence.png" alt="General phase sequence">
</div>
</div>
<div class="paragraph">
<p>If the Local Search log line is missing (after the solver ends),
the Construction Heuristic did not have enough time to initialize the entire solution,
leaving no time for the Local Search algorithm.
That returns an incomplete or infeasible solution.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_time_spent">Time spent</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The log also exhibits how long each of those phases took, in milliseconds, relevant to the start of the solver:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>12:18:04 INFO Solving started time spent (196) ...
12:18:04 INFO Construction Heuristic ended ... time spent (330) ...
12:18:34 INFO Local Search ended ... time spent (30000) ...
12:18:34 INFO Solving ended time spent (30000), ...</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>The Solver initialization took <code>196</code> milliseconds.</p>
</li>
<li>
<p>The Construction Heuristic took <code>330 - 196</code> = <code>134</code> milliseconds.</p>
<div class="ulist">
<ul>
<li>
<p>For big datasets, if the CH takes more than one minute,
it&#8217;s worth investigating why, even if the solver runs for hours.</p>
</li>
</ul>
</div>
</li>
<li>
<p>The Local Search took <code>30000 - 330</code> = <code>29670</code> milliseconds.</p>
<div class="ulist">
<ul>
<li>
<p>LS gets the lion&#8217;s share of the time, as it should be.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_score_quality">Score quality</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The log also reveals the solution quality after each algorithm:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>INFO Solving started ... best score (-38init/0hard/0soft) ...
INFO Construction Heuristic ended ... best score (0hard/-11soft) ...
INFO Local Search ended ... best score (0hard/10soft) ...
INFO Solving ended ... best score (0hard/10soft) ...</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>The starting score <code>-38init/0hard/0soft</code> indicates there are 38 unassigned planning variables.
That&#8217;s because there are 19 lessons, each with 2 planning variables to initialize.</p>
</li>
<li>
<p>The Construction Heuristic ends with a solution of score <code>0hard/-11soft</code>, which is already feasible (no hard constraints broken). That&#8217;s not always the case.</p>
</li>
<li>
<p>The Local Search improves the score further to score <code>0hard/10soft</code>. That&#8217;s a difference of <code>+21soft</code> in 29 seconds.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_performance">Performance</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There&#8217;s also performance information to discover in the log.
First ensure it&#8217;s an apples-to-apples comparison:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>12:18:04 INFO Solving started ... environment mode (REPRODUCIBLE), move thread count (NONE) ...
...
12:18:34 INFO Solving ended ... environment mode (REPRODUCIBLE), move thread count (NONE).</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>If the environment mode is any <code>ASSERT</code> mode, performance is irrelevant,
because the extra assertions are very expensive performance wise.</p>
</li>
<li>
<p>The move thread count indicates how many extra CPU cores it can consume.</p>
<div class="ulist">
<ul>
<li>
<p><code>NONE</code> means all move calculations happen inside the solver&#8217;s thread, so only 1 CPU is exploited.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Both of these affect the <em>score calculation speed</em>,
which shows how many moves were evaluated, normalized <em>per second</em>,
for the solver entirely, but also each phase separately:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>12:18:04 INFO Solving started ...
12:18:04 INFO Construction Heuristic ended ... score calculation speed (4358/sec) ...
12:18:34 INFO Local Search ... score calculation speed (12786/sec) ...
12:18:34 INFO Solving ended ... score calculation speed (12663/sec) ...</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>The Construction Heuristic evaluated over 4000 moves per second.</p>
<div class="ulist">
<ul>
<li>
<p>That&#8217;s actually pretty low, but it only ran for 134 milliseconds, so the overhead weighs in too much,
lowering the number significantly. It should be run with a bigger dataset instead.</p>
</li>
<li>
<p>Normally, the score calculation speed of the Construction Heuristic is higher than that of the Local Search,
because it&#8217;s faster to calculate the score when half of the entities aren&#8217;t initialized yet.</p>
</li>
</ul>
</div>
</li>
<li>
<p>The Local Search evaluated over 12000 moves per second.</p>
<div class="ulist">
<ul>
<li>
<p>That&#8217;s good. The LS score calculation speed should always be above 10 000 per second, even for big datasets.</p>
</li>
<li>
<p>Do note that it ran for 29 seconds and a JVM can take a minute to warm up.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Keep an eye on the score calculation when adding/editing constraints</strong>,
running the solver for same amount of time (typically 1 minute), to discover performance bottlenecks early.
For more accurate performance investigations, use <code>optaplanner-benchmark</code> which supports warming up.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_steps">Steps</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In essence, both the Construction Heuristic phase and Local Search phase run a double loop:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">   for (Step step : steps) { // Outer loop
       for (Move move : moves) { // Inner loop
           // Evaluate move
       }
       // Take step
   }</code></pre>
</div>
</div>
<div class="paragraph">
<p>The outer, step loop executes the best move found by the inner, move loop.
Of course, this is a gross simplification:
there are dozens of orthogonal AI subsystems on top of it.
It&#8217;s only the tip of the iceberg. But it&#8217;s an honest simplification.</p>
</div>
<div class="paragraph">
<p>The <code>INFO</code> log shows how many of these outer loop iterations both phases did:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>...
12:18:04 INFO Construction Heuristic ended ... step total (19).
12:18:34 INFO Local Search ended ... step total (26654).
...</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>The Construction Heuristic did 19 steps.
That&#8217;s because there are 19 lessons in the dataset.
Each step assigns one lesson.</p>
</li>
<li>
<p>The Local Search did over 26 000 steps.
It continues iterating until the termination condition is hit.
Each step modifies (often improves) the current solution.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Turn on <code>DEBUG</code> logging to get a log line per step too:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>INFO  Solving started: time spent (619), best score (-38init/0hard/0soft), environment mode (REPRODUCIBLE), move thread count (NONE), random (JDK with seed 0).
DEBUG     CH step (0), time spent (650), score (-36init/0hard/0soft), selected move count (30), picked move ([Biology(18) {null -&gt; Room A}, Biology(18) {null -&gt; MONDAY 09:30}]).
DEBUG     CH step (1), time spent (661), score (-34init/0hard/0soft), selected move count (30), picked move ([Chemistry(28) {null -&gt; Room A}, Chemistry(28) {null -&gt; MONDAY 10:30}]).
DEBUG     CH step (2), time spent (672), score (-32init/0hard/0soft), selected move count (30), picked move ([Chemistry(17) {null -&gt; Room A}, Chemistry(17) {null -&gt; MONDAY 13:30}]).
...
DEBUG     CH step (17), time spent (741), score (-2init/0hard/-10soft), selected move count (30), picked move ([Spanish(22) {null -&gt; Room B}, Spanish(22) {null -&gt; TUESDAY 10:30}]).
DEBUG     CH step (18), time spent (744), score (0hard/-11soft), selected move count (30), picked move ([Spanish(23) {null -&gt; Room B}, Spanish(23) {null -&gt; TUESDAY 14:30}]).
INFO  Construction Heuristic phase (0) ended: time spent (768), best score (0hard/-11soft), score calculation speed (3910/sec), step total (19).
DEBUG     LS step (0), time spent (790), score (0hard/-5soft), new best score (0hard/-5soft), accepted/selected move count (1/1), picked move (Physics(27) {Room B, MONDAY 08:30} &lt;-&gt; Math(14) {Room A, MONDAY 08:30}).
DEBUG     LS step (1), time spent (791), score (0hard/-7soft),     best score (0hard/-5soft), accepted/selected move count (1/2), picked move (Spanish(33) {Room B -&gt; Room C}).
...
DEBUG     LS step (19071), time spent (29996), score (0hard/7soft),     best score (0hard/10soft), accepted/selected move count (1/25), picked move (Geography(30) {Room C -&gt; Room B}).
DEBUG     LS step (19072), time spent (30000), score (0hard/5soft),     best score (0hard/10soft), accepted/selected move count (0/25), picked move (English(20) {Room A, MONDAY 10:30} &lt;-&gt; Math(14) {Room A, MONDAY 14:30}).
INFO  Local Search phase (1) ended: time spent (30000), best score (0hard/10soft), score calculation speed (7927/sec), step total (19073).
INFO  Solving ended: time spent (30000), best score (0hard/10soft), score calculation speed (7858/sec), phase total (2), environment mode (REPRODUCIBLE), move thread count (NONE).</pre>
</div>
</div>
<div class="paragraph">
<p>Again, this is a lot of information to digest.</p>
</div>
<div class="paragraph">
<p>The <code>DEBUG</code> lines display when a Local Search step improves the best solution:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>INFO  Construction Heuristic ... best score (0hard/-11soft) ...
DEBUG     LS step (0) ... score (0hard/-5soft), new best score (0hard/-5soft) ...
DEBUG     LS step (1) ... score (0hard/-7soft),     best score (0hard/-5soft) ...
...</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>LS step 0 improved the best solution from <code>-11soft</code> to <code>-5soft</code>.</p>
</li>
<li>
<p>LS step 1 didn&#8217;t improve the best solution of <code>-5soft</code>.</p>
<div class="ulist">
<ul>
<li>
<p>It actually accepted a worse solution of <code>-7soft</code>, which is mechanism to escape local optima,
to improve the best solutions in later steps.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>DEBUG</code> log even shows the winning move:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>DEBUG     LS step (0) ... picked move (Physics(27) {Room B, MONDAY 08:30} &lt;-&gt; Math(14) {Room A, MONDAY 08:30}).</pre>
</div>
</div>
<div class="paragraph">
<p>This move swapped the <code>Physics</code> lesson with the <code>Math</code> lesson.
The <code>toString()</code> method of your domain classes should return a short string (typically a name and/or ID)
to keep the logs readable.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_moves">Moves</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>DEBUG</code> log reveals the number of moves selected per step,
which is the number of inner loop iterations:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>...
DEBUG     CH step (17) ... selected move count (30) ...
DEBUG     CH step (18) ... selected move count (30) ...
INFO  Construction Heuristic ended ...
DEBUG     LS step (0) ... accepted/selected move count (1/1) ...
DEBUG     LS step (1) ... accepted/selected move count (1/2) ...
...
INFO  Local Search phase (1) ended ...</pre>
</div>
</div>
<div class="paragraph">
<p>Turn on <code>TRACE</code> logging to get a log line per move too,
which exposes the score of each move evaluation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>INFO  Construction Heuristic ... time spent (395), best score (0hard/-11soft) ...
TRACE         Move index (0), score (0hard/-5soft) ...
DEBUG     LS step (0) ... score (0hard/-5soft), new best score (0hard/-5soft) ...
TRACE         Move index (0), score (-2hard/-6soft) ...
TRACE         Move index (1), score (0hard/-7soft) ...
DEBUG     LS step (1) ... score (0hard/-7soft),     best score (0hard/-5soft) ...
TRACE         Move index (0), score (-3hard/-7soft) ...
TRACE         Move index (1) not doable, ignoring move ...
TRACE         Move index (2), score (-2hard/-9soft) ...
TRACE         Move index (3), score (-2hard/-6soft) ...
TRACE         Move index (4), score (-2hard/-7soft) ...
TRACE         Move index (5), score (-1hard/-8soft) ...
TRACE         Move index (6), score (0hard/-4soft) ...
DEBUG     LS step (2) ... score (0hard/-4soft), new best score (0hard/-4soft) ...</pre>
</div>
</div>
<div class="paragraph">
<p>Again, each <code>TRACE</code> line also shows the selected move:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>TRACE         Move index (0) ... move (Chemistry(28) {Room C -&gt; Room A}).</pre>
</div>
</div>
<div class="paragraph">
<p>This move changed the room of the <code>Chemistry</code> lesson.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_get_started">Get started</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Get started on your OptaPlanner enlightenment path today!</p>
</div>
<div class="paragraph">
<p>Turn on logging in:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Plain Java</strong>: Add a dependency on <code>logback-classic</code> and the <code>logback.xml</code> file:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;configuration&gt;
  &lt;logger name="org.optaplanner" level="debug"/&gt;
&lt;/configuration&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or instead, add a dependency on an <code>slf4j</code> bridge to your favorite logging system.</p>
</div>
</li>
<li>
<p><a href="https://quarkus.io"><strong>Quarkus</strong></a>: Add this line in <code>application.properties</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.log.category."org.optaplanner".level=DEBUG</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Spring Boot</strong>: Add this line in <code>application.properties</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">logging.level.org.optaplanner=DEBUG</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The log is your friend! It tells you what <a href="https://www.optaplanner.org/">OptaPlanner</a> is doing.
Keep an eye on it.</p>
</div>
</div>
</div>        </div>
        <hr class="mb-1"/>
        <div class="mb-4">
            <div class="float-end">
                <a href="https://www.optaplanner.org/blog/2021/05/06/ThePathToOptaPlannerEnlightenmentStartsInTheLog.html"><span class="badge bg-dark">Permalink</span></a>
            </div>
            <div class="tags">
                <i class="fas fa-tag"></i>&nbsp;tagged as
                    <a href="../../../../blog/tags/algorithm.html"><span class="badge bg-info">algorithm</span></a>
                    <a href="../../../../blog/tags/insight.html"><span class="badge bg-info">insight</span></a>
                    <a href="../../../../blog/tags/production.html"><span class="badge bg-info">production</span></a>
            </div>
        </div>
    </div>
    <div class="comments">
        <h2>Comments</h2>
        <a class="btn btn-secondary mb-4" href="https://groups.google.com/g/optaplanner-dev">Visit our forum to comment</a>
    </div>
    <div class="giscus">
        <h2>Giscus Comments</h2>
    </div>
        </div>
        <div class="col-md-3">
            <div class="card p-2 mb-4">
                <div class="text-center">
                    <a href="../../../../blog/news.atom">
                        <img class="me-1" alt="Atom" src="../../../../headerFooter/atomFeedIcon.png">News feed
                    </a>
                    <div class="small">
                        <span>Don’t want to miss a single blog post?</span>
                        <br>
                        <span>Follow us on</span>
                    </div>
                    <ul class="list-inline mb-2">
                        <li class="list-inline-item"><a href="https://twitter.com/OptaPlanner" target="_blank" title="News stream via Twitter"><img alt="T" src="../../../../headerFooter/twitterLogo.png"></a></li>
                        <li class="list-inline-item"><a href="https://www.linkedin.com/showcase/optaplanner" target="_blank" title="News stream via LinkedIn"><img alt="L" src="../../../../headerFooter/linkedInLogo.png"></a></li>
                        <li class="list-inline-item"><a href="https://www.facebook.com/OptaPlanner" target="_blank" title="News stream via Facebook"><img alt="F" src="../../../../headerFooter/facebookLogo.png"></a></li>
                    </ul>
                    <a href="../../../../blog/index.html">Blog archive</a>
                </div>
            </div>
    <div class="card mb-4">
        <div class="card-header">Latest release</div>
        <div class="card-body">
            <ul class="list-unstyled">
                <li class="mb-2">
                    <div class="title">
                        <a href="../../../../download/releaseNotes/releaseNotes8.html">
                            8.14.0.Final released
                        </a>
                    </div>
                    <div class="small">
                        Wed 8 December 2021
                    </div>
                </li>
            </ul>
        </div>
    </div>
    <div class="card mb-4">
        <div class="card-header">Upcoming events</div>
        <div class="card-body">
            <ul class="list-unstyled">
                        <li class="mb-2">
                            <div class="title">
                                    <a href="https://www.devconf.cz/">DevConf.CZ</a>
                            </div>
                            <span>
                                Brno, Czech Republic (virtual) - Fri 28 January 2022
                                    <ul class="list-unstyled">
                                            <li class="ms-4">
                                                    Artificial Intelligence on Quarkus: I love it when an OptaPlan comes together
                                                    <span class="small">by Geoffrey De Smet</span>
                                            </li>
                                    </ul>
                            </span>
                        </li>
                        <li class="mb-2">
                            <div class="title">
                                    <a href="https://www.jfokus.se/">JFokus</a>
                            </div>
                            <span>
                                Stockholm, Sweden - Mon 7 February 2022
                                    <ul class="list-unstyled">
                                            <li class="ms-4">
                                                    <a href="https://www.jfokus.se/talks/712">AI maintenance scheduling with OptaPlanner on Quarkus</a>
                                                    <span class="small">by Geoffrey De Smet</span>
                                            </li>
                                    </ul>
                            </span>
                        </li>
                <div class="small float-end">
                    <a href="https://github.com/kiegroup/optaplanner-website/blob/main/optaplanner-website-root/data/events.yml">Add event</a>
                    /
                    <a href="../../../../community/eventsArchive.html">Archive</a>
                </div>
            </ul>
        </div>
    </div>
    <div class="card mb-4">
        <div class="card-header">Latest blog posts</div>
        <div class="card-body">
            <ul class="list-unstyled">
                    <li class="mb-2">
                        <div class="title">
                            <a href="../../../../blog/2021/10/26/DocsTurnOverANewLeaf.html">OptaPlanner documentation turns over a new leaf</a>
                        </div>
                        <div class="small">Tue 26 October 2021</div>
    <span>
        <img class="rounded me-1" src="https://www.gravatar.com/avatar/f1b0cd1c06b5697dbc91f02ea00f3090?s=20&d=mm"/>
        <span class="align-middle">Radovan Synek</span>
    </span>
                    </li>
                    <li class="mb-2">
                        <div class="title">
                            <a href="../../../../blog/2021/10/14/OrderPickingQuickstart.html">Order picking optimization in warehouses and supermarkets with OptaPlanner</a>
                        </div>
                        <div class="small">Thu 14 October 2021</div>
    <span>
        <img class="rounded me-1" src="https://www.gravatar.com/avatar/4a8c787544c0b40bc033f631dc2256c2?s=20&d=mm"/>
        <span class="align-middle">Walter Medvedeo</span>
    </span>
                    </li>
                    <li class="mb-2">
                        <div class="title">
                            <a href="../../../../blog/2021/10/12/MonitorTheSolver.html">Monitor OptaPlanner solvers through Micrometer</a>
                        </div>
                        <div class="small">Tue 12 October 2021</div>
    <span>
        <img class="rounded me-1" src="https://www.gravatar.com/avatar/16f228a9f340e2a2ca5b42485a17bc3d?s=20&d=mm"/>
        <span class="align-middle">Christopher Chianelli</span>
    </span>
                    </li>
                    <li class="mb-2">
                        <div class="title">
                            <a href="../../../../blog/2021/10/05/ANewAIConstraintSolverForPythonOptaPy.html">A new AI constraint solver for Python: OptaPy</a>
                        </div>
                        <div class="small">Tue 5 October 2021</div>
    <span>
        <img class="rounded me-1" src="https://www.gravatar.com/avatar/16f228a9f340e2a2ca5b42485a17bc3d?s=20&d=mm"/>
        <span class="align-middle">Christopher Chianelli</span>
    </span>
                    </li>
                    <li class="mb-2">
                        <div class="title">
                            <a href="../../../../blog/2021/09/15/HowMuchFasterIsJava17.html">How much faster is Java 17?</a>
                        </div>
                        <div class="small">Wed 15 September 2021</div>
    <span>
        <img class="rounded me-1" src="https://www.gravatar.com/avatar/27147a6679a4bfb6461ff1c0ae10473e?s=20&d=mm"/>
        <span class="align-middle">Geoffrey De Smet</span>
    </span>
                    </li>
                    <li class="mb-2">
                        <div class="title">
                            <a href="../../../../blog/2021/08/19/ConstraintStreamsSomeMoreLove.html">Constraint Streams get some more love</a>
                        </div>
                        <div class="small">Thu 19 August 2021</div>
    <span>
        <img class="rounded me-1" src="https://www.gravatar.com/avatar/c950743f532471ac34022e92193563c3?s=20&d=mm"/>
        <span class="align-middle">Lukáš Petrovický</span>
    </span>
                    </li>
                    <li class="mb-2">
                        <div class="title">
                            <a href="../../../../blog/2021/07/26/LetsOptaPlanYourJbpmTasksPart2.html">Let&#8217;s OptaPlan your jBPM tasks (part 2) - BPM Task assigning in the cloud</a>
                        </div>
                        <div class="small">Mon 26 July 2021</div>
    <span>
        <img class="rounded me-1" src="https://www.gravatar.com/avatar/4a8c787544c0b40bc033f631dc2256c2?s=20&d=mm"/>
        <span class="align-middle">Walter Medvedeo</span>
    </span>
                    </li>
                <div class="small float-end">
                    <a href="../../../../blog/index.html">Blog archive</a>
                </div>
            </ul>
        </div>
    </div>
    <div class="card mb-4">
        <div class="card-header">Latest videos</div>
        <div class="card-body">
            <ul class="list-unstyled">
                    <li class="mb-2">
                        <a style="cursor: pointer" data-bs-toggle="modal" data-bs-target="#videoModal" data-youtube-id="HVDPxebpSvg" data-video-title="AI lesson scheduling on Quarkus with OptaPlanner">
                            <span><i class="fas fa-play-circle"></i></span>
                            <span class="align-text-middle link-primary">AI lesson scheduling on Quarkus with OptaPlanner</span>
                        </a>
                        <div class="small">Thu 18 November 2021</div>
    <span>
        <img class="rounded me-1" src="https://www.gravatar.com/avatar/27147a6679a4bfb6461ff1c0ae10473e?s=20&d=mm"/>
        <span class="align-middle">Geoffrey De Smet</span>
    </span>
                    </li>
                    <li class="mb-2">
                        <a style="cursor: pointer" data-bs-toggle="modal" data-bs-target="#videoModal" data-youtube-id="dqTrjkVxoPI" data-video-title="Maintenance scheduling">
                            <span><i class="fas fa-play-circle"></i></span>
                            <span class="align-text-middle link-primary">Maintenance scheduling</span>
                        </a>
                        <div class="small">Fri 12 November 2021</div>
    <span>
        <img class="rounded me-1" src="https://www.gravatar.com/avatar/27147a6679a4bfb6461ff1c0ae10473e?s=20&d=mm"/>
        <span class="align-middle">Geoffrey De Smet</span>
    </span>
                    </li>
                    <li class="mb-2">
                        <a style="cursor: pointer" data-bs-toggle="modal" data-bs-target="#videoModal" data-youtube-id="-RSZbMT_alo" data-video-title="Optimized order picking in warehouses and supermarkets">
                            <span><i class="fas fa-play-circle"></i></span>
                            <span class="align-text-middle link-primary">Optimized order picking in warehouses and supermarkets</span>
                        </a>
                        <div class="small">Tue 26 October 2021</div>
    <span>
        <img class="rounded me-1" src="https://www.gravatar.com/avatar/4a8c787544c0b40bc033f631dc2256c2?s=20&d=mm"/>
        <span class="align-middle">Walter Medvedeo</span>
    </span>
                    </li>
                    <li class="mb-2">
                        <a style="cursor: pointer" data-bs-toggle="modal" data-bs-target="#videoModal" data-youtube-id="-7ips_GMFmo" data-video-title="A modern OO/FP constraint solver">
                            <span><i class="fas fa-play-circle"></i></span>
                            <span class="align-text-middle link-primary">A modern OO/FP constraint solver</span>
                        </a>
                        <div class="small">Tue 14 September 2021</div>
    <span>
        <img class="rounded me-1" src="https://www.gravatar.com/avatar/27147a6679a4bfb6461ff1c0ae10473e?s=20&d=mm"/>
        <span class="align-middle">Geoffrey De Smet</span>
    </span>
                    </li>
                    <li class="mb-2">
                        <a style="cursor: pointer" data-bs-toggle="modal" data-bs-target="#videoModal" data-youtube-id="hXPzelZHjYk" data-video-title="Business processes task optimization in Kogito">
                            <span><i class="fas fa-play-circle"></i></span>
                            <span class="align-text-middle link-primary">Business processes task optimization in Kogito</span>
                        </a>
                        <div class="small">Tue 7 September 2021</div>
    <span>
        <img class="rounded me-1" src="https://www.gravatar.com/avatar/4a8c787544c0b40bc033f631dc2256c2?s=20&d=mm"/>
        <span class="align-middle">Walter Medvedeo</span>
    </span>
                    </li>
                    <li class="mb-2">
                        <a style="cursor: pointer" data-bs-toggle="modal" data-bs-target="#videoModal" data-youtube-id="HO7l3rWb_uo" data-video-title="School timetable optimization">
                            <span><i class="fas fa-play-circle"></i></span>
                            <span class="align-text-middle link-primary">School timetable optimization</span>
                        </a>
                        <div class="small">Mon 6 September 2021</div>
    <span>
        <img class="rounded me-1" src="https://www.gravatar.com/avatar/27147a6679a4bfb6461ff1c0ae10473e?s=20&d=mm"/>
        <span class="align-middle">Geoffrey De Smet</span>
    </span>
                    </li>
                    <li class="mb-2">
                        <a style="cursor: pointer" data-bs-toggle="modal" data-bs-target="#videoModal" data-youtube-id="NPTzXIyQdqU" data-video-title="Schedule incoming calls real-time">
                            <span><i class="fas fa-play-circle"></i></span>
                            <span class="align-text-middle link-primary">Schedule incoming calls real-time</span>
                        </a>
                        <div class="small">Mon 23 August 2021</div>
    <span>
        <img class="rounded me-1" src="https://www.gravatar.com/avatar/f1b0cd1c06b5697dbc91f02ea00f3090?s=20&d=mm"/>
        <span class="align-middle">Radovan Synek</span>
    </span>
                    </li>
                <div class="small float-end">
                    <a href="https://www.youtube.com/channel/UCcpkOKpujFlM67D2h0RdaeQ">Video archive</a>
                </div>
            </ul>
        </div>
    </div>
        </div>
    </div>
        </div>
    </div>
<footer class="py-4 bg-black text-white-50">
    <div class="container">
        <div class="row">
            <div class="col-md-3">
                <p class="small">OptaPlanner is open.
                    All dependencies of this project are available under the
                    <a class="link-light" href="../../../../code/license.html">Apache Software License 2.0</a>
                    or a compatible license.
                    OptaPlanner is <a class="link-light" href="../../../../community/branding.html">trademarked</a>.
                </p>
                <p class="small">
                    This <a class="link-light" href="../../../../website/websiteInfo.html">website</a>
                    was built with <a class="link-light" href="https://jbake.org">JBake</a> and is open source.
                </p>
            </div>
            <div class="col-md-3">
                <h4>Community</h4>
                <ul class="ps-2 list-unstyled">
                    <li><a class="link-light" href="../../../../blog/">Blog</a></li>
                    <li><a class="link-light" href="../../../../community/getHelp.html">Get Help</a></li>
                    <li><a class="link-light" href="../../../../community/team.html">Team</a></li>
                    <li><a class="link-light" href="../../../../community/governance.html">Governance</a></li>
                    <li><a class="link-light" href="../../../../community/research.html">Academic research</a></li>
                </ul>
            </div>
            <div class="col-md-3">
                <h4>Code</h4>
                <ul class="ps-2 list-unstyled">
                    <li><a class="link-light" href="../../../../code/sourceCode.html">Build from source</a></li>
                    <li><a class="link-light" href="https://issues.redhat.com/projects/PLANNER">Issue tracker</a></li>
                    <li><a class="link-light" href="../../../../download/releaseNotes/">Release notes</a></li>
                    <li><a class="link-light" href="../../../../download/upgradeRecipe/">Upgrade recipes</a></li>
                    <li><a class="link-light" href="../../../../community/branding.html">Logo and branding</a></li>
                </ul>
            </div>
            <div class="col-md-3">
                <h4>KIE projects</h4>
                <ul class="ps-2 list-unstyled">
                    <li><a class="link-light" href="https://www.drools.org/" target="_blank">Drools rule engine</a></li>
                    <li><a class="link-light" href="https://www.optaplanner.org/" target="_blank">OptaPlanner constraint solver</a></li>
                    <li><a class="link-light" href="https://www.jbpm.org/" target="_blank">jBPM workflow engine</a></li>
                    <li><a class="link-light" href="https://kogito.kie.org/" target="_blank">Kogito Business Automation platform</a></li>
                </ul>
            </div>
        </div>
        <div class="d-flex justify-content-evenly align-items-center">
            <div>
                <i class="fab fa-creative-commons"></i><i class="fab fa-creative-commons-by"></i>
                <a class="link-light link-underlined" href="https://creativecommons.org/licenses/by/3.0/" target="_blank">CC by 3.0</a> |
                <a class="link-light link-underlined" href="https://www.redhat.com/en/about/privacy-policy">Privacy Policy</a>
            </div>
            <div>
                <span class="me-2 text-white">Sponsored by</span>
                <a href="https://www.redhat.com/" target="_blank"><img style="width: 6rem" src="https://www.redhat.com/profiles/rh/themes/redhatdotcom/img/logo.svg" alt="Red Hat"></a>
            </div>
        </div>
    </div>
</footer>
    <div class="modal fade" id="videoModal" tabindex="-1" aria-labelledby="videoModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"></h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="ratio ratio-16x9" id="player-container">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"
            integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.2.0/build/highlight.min.js"
            integrity="sha256-mfS2sXKEV8eehy39UH7+7BwaoUaIe2TuLO2DXS+c2mI=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.2.0/build/languages/asciidoc.min.js"
            integrity="sha256-gnB2LPAmHPkrj3czfog5GdIu4aByzcKeTUzC2agNMzM=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.2.0/build/languages/properties.min.js"
            integrity="sha256-1XSLaVD2dn/eCICDUx1DYprsC4UAEa4weDLYY/458wU=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.2.0/build/languages/gradle.min.js"
            integrity="sha256-B5HtfGpeJKLSEsoqtAdi6sSJ05K49CTGHZbrBiJ9CwE=" crossorigin="anonymous"></script>
    <script src="../../../../website/optaplannerWebsite.js"></script>
    <script>
        // Ruby syntax highlighting works pretty well for DRL source code.
        hljs.registerAliases(["drl"], { languageName: "ruby"});
        hljs.highlightAll();
    </script>
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <script type="text/javascript">
      if (("undefined" !== typeof _satellite) && ("function" === typeof _satellite.pageBottom)) {
        _satellite.pageBottom();
      }
    </script>
    <script src="https://giscus.app/client.js"
        data-repo="beautifulnature/discussions.github.io"
        data-repo-id="R_kgDOGjMC7g"
        data-category-id="DIC_kwDOGjMC7s4CAVdb"
        data-mapping="pathname"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-theme="light"
        data-lang="en"
        crossorigin="anonymous"
        async>
    </script>
</body>
</html>


